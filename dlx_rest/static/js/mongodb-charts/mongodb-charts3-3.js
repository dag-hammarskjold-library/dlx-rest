/* source: https://unpkg.com/@mongodb-js/charts-embed-dom@3.3.1/dist/charts-embed-dom.umd.min.js */
/*! For license information please see charts-embed-dom.umd.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ChartsEmbedSDK=t():e.ChartsEmbedSDK=t()}(self,(()=>(()=>{var e={822:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{a(r.next(e))}catch(e){o(e)}}function u(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,u)}a((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(630),u=n(509);n(691);var a,f=n(534);!function(e){e[e.Connecting=0]="Connecting",e[e.Syn=1]="Syn",e[e.Connected=2]="Connected"}(a=t.ChattyClientStates||(t.ChattyClientStates={}));var c=function(){function e(e){this._clientWindow=window,this._connection=null,this._hostWindow=this._clientWindow.parent,this._state=a.Connecting,this._sequence=0,this._receivers={},this._handlers=e.handlers,this._targetOrigin=e.targetOrigin,this._defaultTimeout=e.defaultTimeout,this._channel=new MessageChannel}return Object.defineProperty(e.prototype,"connection",{get:function(){return this._connection},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isConnected",{get:function(){return this._state===a.Connected},enumerable:!0,configurable:!0}),e.prototype.connect=function(){return i(this,void 0,void 0,(function(){var t=this;return o(this,(function(n){return this._connection||(this._connection=new Promise((function(n,r){t._channel.port1.onmessage=function(r){switch(e._debug("received",r.data.action,r.data.data),r.data.action){case u.ChattyHostMessages.SynAck:t._state=a.Connected,t.sendMsg(s.ChattyClientMessages.Ack),n({send:function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t.sendMsg(s.ChattyClientMessages.Message,{eventName:e,payload:n})},sendAndReceive:function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return i(t,void 0,void 0,(function(){var t,r=this;return o(this,(function(i){return t=++this._sequence,this.sendMsg(s.ChattyClientMessages.MessageWithResponse,{eventName:e,payload:n},t),[2,new Promise((function(e,n){var i;r._defaultTimeout>-1&&(i=setTimeout((function(){delete r._receivers[t],n(new Error("Timeout"))}),r._defaultTimeout)),r._receivers[t]={resolve:e,reject:n,timeoutId:i}}))]}))}))}});break;case u.ChattyHostMessages.Message:t._handlers[r.data.data.eventName]&&t._handlers[r.data.data.eventName].forEach((function(e){return e.apply(t,r.data.data.payload)}));break;case u.ChattyHostMessages.MessageWithResponse:var f=r.data.data,c=f.eventName,l=f.payload,h=f.sequence,d=[];t._handlers[c]&&(d=t._handlers[c].map((function(e){return e.apply(t,l)}))),Promise.all(d).then((function(e){t.sendMsg(s.ChattyClientMessages.Response,{eventName:c,payload:e},h)})).catch((function(e){t.sendMsg(s.ChattyClientMessages.ResponseError,{eventName:c,payload:e},h)}));break;case u.ChattyHostMessages.Response:var p=t._receivers[r.data.data.sequence];p&&(delete t._receivers[r.data.data.sequence],p.timeoutId&&clearTimeout(p.timeoutId),p.resolve(r.data.data.payload));break;case u.ChattyHostMessages.ResponseError:var g=t._receivers[r.data.data.sequence];g&&(delete t._receivers[r.data.data.sequence],g.timeoutId&&clearTimeout(g.timeoutId),g.reject(r.data.data.payload))}},t.initiateHandshake()}))),[2,this._connection]}))}))},e.prototype.initiateHandshake=function(){e._debug("connecting to",this._targetOrigin),this._hostWindow.postMessage({action:s.ChattyClientMessages.Syn},this._targetOrigin,[this._channel.port2]),this._state=a.Syn},e.prototype.sendMsg=function(t,n,i){void 0===n&&(n={});var o=r({},n,i?{sequence:i}:{});e._debug("sending",t,o),this._channel.port1.postMessage({action:t,data:o})},e._debug=f("looker:chatty:client"),e}();t.ChattyClient=c},530:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(822),i=function(){function e(){this._targetOrigin="*",this._handlers={},this._defaultTimeout=3e4}return Object.defineProperty(e.prototype,"targetOrigin",{get:function(){return this._targetOrigin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handlers",{get:function(){return this._handlers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultTimeout",{get:function(){return this._defaultTimeout},enumerable:!0,configurable:!0}),e.prototype.off=function(e,t){this._handlers[e]&&(this._handlers[e]=this._handlers[e].filter((function(e){return e!==t})))},e.prototype.on=function(e,t){return this._handlers[e]=this._handlers[e]||[],this._handlers[e].push(t),this},e.prototype.withDefaultTimeout=function(e){return this._defaultTimeout=e,this},e.prototype.withTargetOrigin=function(e){return this._targetOrigin=e,this},e.prototype.build=function(){return new r.ChattyClient(this)},e}();t.ChattyClientBuilder=i},630:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.ChattyClientMessages||(t.ChattyClientMessages={}))[n.Syn=0]="Syn",n[n.Ack=1]="Ack",n[n.Message=2]="Message",n[n.MessageWithResponse=3]="MessageWithResponse",n[n.Response=4]="Response",n[n.ResponseError=5]="ResponseError"},856:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{a(r.next(e))}catch(e){o(e)}}function u(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,u)}a((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(630),u=n(509);n(691);var a,f=n(534);!function(e){e[e.Connecting=0]="Connecting",e[e.SynAck=1]="SynAck",e[e.Connected=2]="Connected"}(a=t.ChattyHostStates||(t.ChattyHostStates={}));var c=function(){function e(e){var t=this;this._hostWindow=window,this._connection=null,this._state=a.Connecting,this._sequence=0,this._receivers={},this.iframe=document.createElement("iframe"),e.sandboxAttrs.forEach((function(e){return t.iframe.sandbox.add(e)})),this.iframe.frameBorder=e.getFrameBorder(),e.url?this.iframe.src=e.url:e.source?this.iframe.srcdoc=e.source:console.warn("url or source required to initialize Chatty host correctly"),this._appendTo=e.el,this._handlers=e.handlers,this._port=null,this._targetOrigin=e.targetOrigin,this._defaultTimeout=e.defaultTimeout}return Object.defineProperty(e.prototype,"connection",{get:function(){return this._connection},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isConnected",{get:function(){return this._state===a.Connected},enumerable:!0,configurable:!0}),e.prototype.connect=function(){return i(this,void 0,void 0,(function(){var t,n=this;return o(this,(function(r){return this._connection?[2,this._connection]:(t=function(){return i(n,void 0,void 0,(function(){var t=this;return o(this,(function(n){return[2,new Promise((function(n,r){var f=function(r){switch(e._debug("port received",r.data.action,r.data.data),r.data.action){case s.ChattyClientMessages.Ack:t._state=a.Connected,n({send:function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t.sendMsg(u.ChattyHostMessages.Message,{eventName:e,payload:n})},sendAndReceive:function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return i(t,void 0,void 0,(function(){var t,r=this;return o(this,(function(i){return t=++this._sequence,this.sendMsg(u.ChattyHostMessages.MessageWithResponse,{eventName:e,payload:n},t),[2,new Promise((function(e,n){var i;r._defaultTimeout>-1&&(i=setTimeout((function(){delete r._receivers[t],n(new Error("Timeout"))}),r._defaultTimeout)),r._receivers[t]={resolve:e,reject:n,timeoutId:i}}))]}))}))}});break;case s.ChattyClientMessages.Message:t._handlers[r.data.data.eventName]&&t._handlers[r.data.data.eventName].forEach((function(e){return e.apply(t,r.data.data.payload)}));break;case s.ChattyClientMessages.MessageWithResponse:var f=r.data.data,c=f.eventName,l=f.payload,h=f.sequence,d=[];t._handlers[c]&&(d=t._handlers[c].map((function(e){return e.apply(t,l)}))),Promise.all(d).then((function(e){t.sendMsg(u.ChattyHostMessages.Response,{eventName:c,payload:e},h)})).catch((function(e){t.sendMsg(u.ChattyHostMessages.ResponseError,{eventName:c,payload:e},h)}));break;case s.ChattyClientMessages.Response:(p=t._receivers[r.data.data.sequence])&&(delete t._receivers[r.data.data.sequence],p.timeoutId&&clearTimeout(p.timeoutId),p.resolve(r.data.data.payload));break;case s.ChattyClientMessages.ResponseError:var p;(p=t._receivers[r.data.data.sequence])&&(delete t._receivers[r.data.data.sequence],p.timeoutId&&clearTimeout(p.timeoutId),p.reject(r.data.data.payload))}};t._hostWindow.addEventListener("message",(function(n){if(t.isValidMsg(n)){if(e._debug("window received",n.data.action,n.data.data),n.data.action===s.ChattyClientMessages.Syn){if(t._port){if(!(t._targetOrigin&&"*"===t._targetOrigin||t._targetOrigin===n.origin))return void e._debug("rejected new connection from",n.origin);e._debug("reconnecting to",n.origin),t._port.close()}t._port=n.ports[0],t._port.onmessage=f,t.sendMsg(u.ChattyHostMessages.SynAck),t._state=a.SynAck}}else e._debug("window received invalid",n)}))}))]}))}))},this._appendTo.appendChild(this.iframe),[2,this._connection=t()])}))}))},e.prototype.sendMsg=function(t,n,i){void 0===n&&(n={});var o=r({},n,i?{sequence:i}:{});e._debug("sending",t,o),this._port.postMessage({action:t,data:o})},e.prototype.isValidMsg=function(e){return e.source===this.iframe.contentWindow&&(!this._targetOrigin||"*"===this._targetOrigin||this._targetOrigin===e.origin)},e._debug=f("looker:chatty:host"),e}();t.ChattyHost=c},336:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(856),i=function(){function e(e,t){this._url=e,this._source=t,this._appendTo=null,this._handlers={},this._sandboxAttrs=[],this._frameBorder="0",this._targetOrigin=null,this._defaultTimeout=3e4}return Object.defineProperty(e.prototype,"el",{get:function(){return this._appendTo||document.body},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handlers",{get:function(){return this._handlers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sandboxAttrs",{get:function(){return this._sandboxAttrs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"targetOrigin",{get:function(){return this._targetOrigin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultTimeout",{get:function(){return this._defaultTimeout},enumerable:!0,configurable:!0}),e.prototype.appendTo=function(e){return this._appendTo=e,this},e.prototype.off=function(e,t){this._handlers[e]&&(this._handlers[e]=this._handlers[e].filter((function(e){return e!==t})))},e.prototype.on=function(e,t){return this._handlers[e]=this._handlers[e]||[],this._handlers[e].push(t),this},e.prototype.withDefaultTimeout=function(e){return this._defaultTimeout=e,this},e.prototype.getFrameBorder=function(){return this._frameBorder},e.prototype.frameBorder=function(e){return this._frameBorder=e,this},e.prototype.sandbox=function(e){return this.withSandboxAttribute(e),this},e.prototype.withSandboxAttribute=function(e){return this._sandboxAttrs.push(e),this},e.prototype.withTargetOrigin=function(e){return this._targetOrigin=e,this},e.prototype.build=function(){return new r.ChattyHost(this)},e}();t.ChattyHostBuilder=i},509:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.ChattyHostMessages||(t.ChattyHostMessages={}))[n.SynAck=0]="SynAck",n[n.Message=1]="Message",n[n.MessageWithResponse=2]="MessageWithResponse",n[n.Response=3]="Response",n[n.ResponseError=4]="ResponseError"},604:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(530),i=n(336),o=n(530);t.ChattyClientBuilder=o.ChattyClientBuilder;var s=n(336);t.ChattyHostBuilder=s.ChattyHostBuilder;var u=n(822);t.ChattyClient=u.ChattyClient;var a=n(856);t.ChattyHost=a.ChattyHost;var f=function(){function e(){}return e.createHost=function(e){return new i.ChattyHostBuilder(e)},e.createHostFromSource=function(e){return new i.ChattyHostBuilder(void 0,e)},e.createClient=function(){return new r.ChattyClientBuilder},e}();t.Chatty=f},534:(e,t,n)=>{function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n(999)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())},999:(e,t,n)=>{var r;function i(e){function n(){if(n.enabled){var e=n,i=+new Date,o=i-(r||i);e.diff=o,e.prev=r,e.curr=i,r=i;for(var s=new Array(arguments.length),u=0;u<s.length;u++)s[u]=arguments[u];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var a=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;a++;var i=t.formatters[r];if("function"==typeof i){var o=s[a];n=i.call(e,o),s.splice(a,1),a--}return n})),t.formatArgs.call(e,s),(n.log||t.log||console.log.bind(console)).apply(e,s)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(29),t.names=[],t.skips=[],t.formatters={}},29:e=>{var t=1e3,n=60*t,r=60*n,i=24*r;function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,s){s=s||{};var u,a=typeof e;if("string"===a&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(o){var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===a&&!1===isNaN(e))return s.long?o(u=e,i,"day")||o(u,r,"hour")||o(u,n,"minute")||o(u,t,"second")||u+" ms":function(e){return e>=i?Math.round(e/i)+"d":e>=r?Math.round(e/r)+"h":e>=n?Math.round(e/n)+"m":e>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},691:(e,t,n)=>{"use strict";e.exports=n(139).polyfill()},139:function(e,t,n){e.exports=function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,i=void 0,o=void 0,s=function(e,t){d[r]=e,d[r+1]=t,2===(r+=2)&&(o?o(p):v())};var u="undefined"!=typeof window?window:void 0,a=u||{},f=a.MutationObserver||a.WebKitMutationObserver,c="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(p,1)}}var d=new Array(1e3);function p(){for(var e=0;e<r;e+=2)(0,d[e])(d[e+1]),d[e]=void 0,d[e+1]=void 0;r=0}var g,y,b,m,v=void 0;function _(e,t){var n=this,r=new this.constructor(O);void 0===r[S]&&L(r);var i=n._state;if(i){var o=arguments[i-1];s((function(){return R(i,r,o,n._result)}))}else U(n,r,e,t);return r}function w(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(O);return j(t,e),t}v=c?function(){return process.nextTick(p)}:f?(y=0,b=new f(p),m=document.createTextNode(""),b.observe(m,{characterData:!0}),function(){m.data=y=++y%2}):l?((g=new MessageChannel).port1.onmessage=p,function(){return g.port2.postMessage(0)}):void 0===u?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(p)}:h()}catch(e){return h()}}():h();var S=Math.random().toString(36).substring(2);function O(){}var x=void 0,E=1,B=2;function N(t,n,r){n.constructor===t.constructor&&r===_&&n.constructor.resolve===w?function(e,t){t._state===E?I(e,t._result):t._state===B?T(e,t._result):U(t,void 0,(function(t){return j(e,t)}),(function(t){return T(e,t)}))}(t,n):void 0===r?I(t,n):e(r)?function(e,t,n){s((function(e){var r=!1,i=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?j(e,n):I(e,n))}),(function(t){r||(r=!0,T(e,t))}),e._label);!r&&i&&(r=!0,T(e,i))}),e)}(t,n,r):I(t,n)}function j(e,t){if(e===t)T(e,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(r=t),null===r||"object"!==i&&"function"!==i)I(e,t);else{var n=void 0;try{n=t.then}catch(t){return void T(e,t)}N(e,t,n)}var r,i}function A(e){e._onerror&&e._onerror(e._result),$(e)}function I(e,t){e._state===x&&(e._result=t,e._state=E,0!==e._subscribers.length&&s($,e))}function T(e,t){e._state===x&&(e._state=B,e._result=t,s(A,e))}function U(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+E]=n,i[o+B]=r,0===o&&e._state&&s($,e)}function $(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,s=0;s<t.length;s+=3)r=t[s],i=t[s+n],r?R(n,r,i,o):i(o);e._subscribers.length=0}}function R(t,n,r,i){var o=e(r),s=void 0,u=void 0,a=!0;if(o){try{s=r(i)}catch(e){a=!1,u=e}if(n===s)return void T(n,new TypeError("A promises callback cannot return that same promise."))}else s=i;n._state!==x||(o&&a?j(n,s):!1===a?T(n,u):t===E?I(n,s):t===B&&T(n,s))}var C=0;function L(e){e[S]=C++,e._state=void 0,e._result=void 0,e._subscribers=[]}var M=function(){function e(e,n){this._instanceConstructor=e,this.promise=new e(O),this.promise[S]||L(this.promise),t(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?I(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&I(this.promise,this._result))):T(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===x&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===w){var i=void 0,o=void 0,s=!1;try{i=e.then}catch(e){s=!0,o=e}if(i===_&&e._state!==x)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===k){var u=new n(O);s?T(u,o):N(u,e,i),this._willSettleAt(u,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===x&&(this._remaining--,e===B?T(r,n):this._result[t]=n),0===this._remaining&&I(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;U(e,void 0,(function(e){return n._settledAt(E,t,e)}),(function(e){return n._settledAt(B,t,e)}))},e}();var k=function(){function t(e){this[S]=C++,this._result=this._state=void 0,this._subscribers=[],O!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){j(e,t)}),(function(t){T(e,t)}))}catch(t){T(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this,r=n.constructor;return e(t)?n.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):n.then(t,t)},t}();return k.prototype.then=_,k.all=function(e){return new M(this,e).promise},k.race=function(e){var n=this;return t(e)?new n((function(t,r){for(var i=e.length,o=0;o<i;o++)n.resolve(e[o]).then(t,r)})):new n((function(e,t){return t(new TypeError("You must pass an array to race."))}))},k.resolve=w,k.reject=function(e){var t=new this(O);return T(t,e),t},k._setScheduler=function(e){o=e},k._setAsap=function(e){s=e},k._asap=s,k.polyfill=function(){var e=void 0;if(void 0!==n.g)e=n.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=k},k.Promise=k,k}()},635:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",u="__lodash_placeholder__",a=32,f=128,c=1/0,l=9007199254740991,h=NaN,d=4294967295,p=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",a],["partialRight",64],["rearg",256]],g="[object Arguments]",y="[object Array]",b="[object Boolean]",m="[object Date]",v="[object Error]",_="[object Function]",w="[object GeneratorFunction]",S="[object Map]",O="[object Number]",x="[object Object]",E="[object Promise]",B="[object RegExp]",N="[object Set]",j="[object String]",A="[object Symbol]",I="[object WeakMap]",T="[object ArrayBuffer]",U="[object DataView]",$="[object Float32Array]",R="[object Float64Array]",C="[object Int8Array]",L="[object Int16Array]",M="[object Int32Array]",k="[object Uint8Array]",D="[object Uint8ClampedArray]",P="[object Uint16Array]",F="[object Uint32Array]",H=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,J=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,V=RegExp(J.source),K=RegExp(W.source),Z=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,G=/<%=([\s\S]+?)%>/g,X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,ie=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,ae=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,ce=/\\(\\)?/g,le=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,he=/\w*$/,de=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,me=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ve=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,we="\\ud800-\\udfff",Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Oe="\\u2700-\\u27bf",xe="a-z\\xdf-\\xf6\\xf8-\\xff",Ee="A-Z\\xc0-\\xd6\\xd8-\\xde",Be="\\ufe0e\\ufe0f",Ne="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",je="["+we+"]",Ae="["+Ne+"]",Ie="["+Se+"]",Te="\\d+",Ue="["+Oe+"]",$e="["+xe+"]",Re="[^"+we+Ne+Te+Oe+xe+Ee+"]",Ce="\\ud83c[\\udffb-\\udfff]",Le="[^"+we+"]",Me="(?:\\ud83c[\\udde6-\\uddff]){2}",ke="[\\ud800-\\udbff][\\udc00-\\udfff]",De="["+Ee+"]",Pe="\\u200d",Fe="(?:"+$e+"|"+Re+")",He="(?:"+De+"|"+Re+")",ze="(?:['’](?:d|ll|m|re|s|t|ve))?",qe="(?:['’](?:D|LL|M|RE|S|T|VE))?",Je="(?:"+Ie+"|"+Ce+")?",We="["+Be+"]?",Ve=We+Je+"(?:"+Pe+"(?:"+[Le,Me,ke].join("|")+")"+We+Je+")*",Ke="(?:"+[Ue,Me,ke].join("|")+")"+Ve,Ze="(?:"+[Le+Ie+"?",Ie,Me,ke,je].join("|")+")",Ye=RegExp("['’]","g"),Ge=RegExp(Ie,"g"),Xe=RegExp(Ce+"(?="+Ce+")|"+Ze+Ve,"g"),Qe=RegExp([De+"?"+$e+"+"+ze+"(?="+[Ae,De,"$"].join("|")+")",He+"+"+qe+"(?="+[Ae,De+Fe,"$"].join("|")+")",De+"?"+Fe+"+"+ze,De+"+"+qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Te,Ke].join("|"),"g"),et=RegExp("["+Pe+we+Se+Be+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,it={};it[$]=it[R]=it[C]=it[L]=it[M]=it[k]=it[D]=it[P]=it[F]=!0,it[g]=it[y]=it[T]=it[b]=it[U]=it[m]=it[v]=it[_]=it[S]=it[O]=it[x]=it[B]=it[N]=it[j]=it[I]=!1;var ot={};ot[g]=ot[y]=ot[T]=ot[U]=ot[b]=ot[m]=ot[$]=ot[R]=ot[C]=ot[L]=ot[M]=ot[S]=ot[O]=ot[x]=ot[B]=ot[N]=ot[j]=ot[A]=ot[k]=ot[D]=ot[P]=ot[F]=!0,ot[v]=ot[_]=ot[I]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ut=parseFloat,at=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ct="object"==typeof self&&self&&self.Object===Object&&self,lt=ft||ct||Function("return this")(),ht=t&&!t.nodeType&&t,dt=ht&&e&&!e.nodeType&&e,pt=dt&&dt.exports===ht,gt=pt&&ft.process,yt=function(){try{return dt&&dt.require&&dt.require("util").types||gt&&gt.binding&&gt.binding("util")}catch(e){}}(),bt=yt&&yt.isArrayBuffer,mt=yt&&yt.isDate,vt=yt&&yt.isMap,_t=yt&&yt.isRegExp,wt=yt&&yt.isSet,St=yt&&yt.isTypedArray;function Ot(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function xt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function Et(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Bt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function jt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function At(e,t){return!(null==e||!e.length)&&Dt(e,t,0)>-1}function It(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Tt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Ut(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function $t(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Rt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Lt=zt("length");function Mt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function kt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Dt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):kt(e,Ft,n)}function Pt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Ft(e){return e!=e}function Ht(e,t){var n=null==e?0:e.length;return n?Wt(e,t)/n:h}function zt(e){return function(t){return null==t?i:t[e]}}function qt(e){return function(t){return null==e?i:e[t]}}function Jt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Wt(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function Vt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Kt(e){return e?e.slice(0,hn(e)+1).replace(re,""):e}function Zt(e){return function(t){return e(t)}}function Yt(e,t){return Tt(t,(function(t){return e[t]}))}function Gt(e,t){return e.has(t)}function Xt(e,t){for(var n=-1,r=e.length;++n<r&&Dt(t,e[n],0)>-1;);return n}function Qt(e,t){for(var n=e.length;n--&&Dt(t,e[n],0)>-1;);return n}var en=qt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tn=qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(e){return"\\"+st[e]}function rn(e){return et.test(e)}function on(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function sn(e,t){return function(n){return e(t(n))}}function un(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==u||(e[n]=u,o[i++]=n)}return o}function an(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function cn(e){return rn(e)?function(e){for(var t=Xe.lastIndex=0;Xe.test(e);)++t;return t}(e):Lt(e)}function ln(e){return rn(e)?function(e){return e.match(Xe)||[]}(e):function(e){return e.split("")}(e)}function hn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var dn=qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pn=function e(t){var n,r=(t=null==t?lt:pn.defaults(lt.Object(),t,pn.pick(lt,nt))).Array,ie=t.Date,we=t.Error,Se=t.Function,Oe=t.Math,xe=t.Object,Ee=t.RegExp,Be=t.String,Ne=t.TypeError,je=r.prototype,Ae=Se.prototype,Ie=xe.prototype,Te=t["__core-js_shared__"],Ue=Ae.toString,$e=Ie.hasOwnProperty,Re=0,Ce=(n=/[^.]+$/.exec(Te&&Te.keys&&Te.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Le=Ie.toString,Me=Ue.call(xe),ke=lt._,De=Ee("^"+Ue.call($e).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pe=pt?t.Buffer:i,Fe=t.Symbol,He=t.Uint8Array,ze=Pe?Pe.allocUnsafe:i,qe=sn(xe.getPrototypeOf,xe),Je=xe.create,We=Ie.propertyIsEnumerable,Ve=je.splice,Ke=Fe?Fe.isConcatSpreadable:i,Ze=Fe?Fe.iterator:i,Xe=Fe?Fe.toStringTag:i,et=function(){try{var e=ao(xe,"defineProperty");return e({},"",{}),e}catch(e){}}(),st=t.clearTimeout!==lt.clearTimeout&&t.clearTimeout,ft=ie&&ie.now!==lt.Date.now&&ie.now,ct=t.setTimeout!==lt.setTimeout&&t.setTimeout,ht=Oe.ceil,dt=Oe.floor,gt=xe.getOwnPropertySymbols,yt=Pe?Pe.isBuffer:i,Lt=t.isFinite,qt=je.join,gn=sn(xe.keys,xe),yn=Oe.max,bn=Oe.min,mn=ie.now,vn=t.parseInt,_n=Oe.random,wn=je.reverse,Sn=ao(t,"DataView"),On=ao(t,"Map"),xn=ao(t,"Promise"),En=ao(t,"Set"),Bn=ao(t,"WeakMap"),Nn=ao(xe,"create"),jn=Bn&&new Bn,An={},In=Mo(Sn),Tn=Mo(On),Un=Mo(xn),$n=Mo(En),Rn=Mo(Bn),Cn=Fe?Fe.prototype:i,Ln=Cn?Cn.valueOf:i,Mn=Cn?Cn.toString:i;function kn(e){if(eu(e)&&!zs(e)&&!(e instanceof Hn)){if(e instanceof Fn)return e;if($e.call(e,"__wrapped__"))return ko(e)}return new Fn(e)}var Dn=function(){function e(){}return function(t){if(!Qs(t))return{};if(Je)return Je(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Pn(){}function Fn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Jn;++t<n;)this.add(e[t])}function Vn(e){var t=this.__data__=new qn(e);this.size=t.size}function Kn(e,t){var n=zs(e),r=!n&&Hs(e),i=!n&&!r&&Vs(e),o=!n&&!r&&!i&&au(e),s=n||r||i||o,u=s?Vt(e.length,Be):[],a=u.length;for(var f in e)!t&&!$e.call(e,f)||s&&("length"==f||i&&("offset"==f||"parent"==f)||o&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||yo(f,a))||u.push(f);return u}function Zn(e){var t=e.length;return t?e[Jr(0,t-1)]:i}function Yn(e,t){return Uo(Bi(e),or(t,0,e.length))}function Gn(e){return Uo(Bi(e))}function Xn(e,t,n){(n!==i&&!Ds(e[t],n)||n===i&&!(t in e))&&rr(e,t,n)}function Qn(e,t,n){var r=e[t];$e.call(e,t)&&Ds(r,n)&&(n!==i||t in e)||rr(e,t,n)}function er(e,t){for(var n=e.length;n--;)if(Ds(e[n][0],t))return n;return-1}function tr(e,t,n,r){return cr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function nr(e,t){return e&&Ni(t,Iu(t),e)}function rr(e,t,n){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ir(e,t){for(var n=-1,o=t.length,s=r(o),u=null==e;++n<o;)s[n]=u?i:Eu(e,t[n]);return s}function or(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function sr(e,t,n,r,o,s){var u,a=1&t,f=2&t,c=4&t;if(n&&(u=o?n(e,r,o,s):n(e)),u!==i)return u;if(!Qs(e))return e;var l=zs(e);if(l){if(u=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&$e.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!a)return Bi(e,u)}else{var h=lo(e),d=h==_||h==w;if(Vs(e))return _i(e,a);if(h==x||h==g||d&&!o){if(u=f||d?{}:po(e),!a)return f?function(e,t){return Ni(e,co(e),t)}(e,function(e,t){return e&&Ni(t,Tu(t),e)}(u,e)):function(e,t){return Ni(e,fo(e),t)}(e,nr(u,e))}else{if(!ot[h])return o?e:{};u=function(e,t,n){var r,i=e.constructor;switch(t){case T:return wi(e);case b:case m:return new i(+e);case U:return function(e,t){var n=t?wi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case $:case R:case C:case L:case M:case k:case D:case P:case F:return Si(e,n);case S:return new i;case O:case j:return new i(e);case B:return function(e){var t=new e.constructor(e.source,he.exec(e));return t.lastIndex=e.lastIndex,t}(e);case N:return new i;case A:return r=e,Ln?xe(Ln.call(r)):{}}}(e,h,a)}}s||(s=new Vn);var p=s.get(e);if(p)return p;s.set(e,u),ou(e)?e.forEach((function(r){u.add(sr(r,t,n,r,e,s))})):tu(e)&&e.forEach((function(r,i){u.set(i,sr(r,t,n,i,e,s))}));var y=l?i:(c?f?to:eo:f?Tu:Iu)(e);return Et(y||e,(function(r,i){y&&(r=e[i=r]),Qn(u,i,sr(r,t,n,i,e,s))})),u}function ur(e,t,n){var r=n.length;if(null==e)return!r;for(e=xe(e);r--;){var o=n[r],s=t[o],u=e[o];if(u===i&&!(o in e)||!s(u))return!1}return!0}function ar(e,t,n){if("function"!=typeof e)throw new Ne(o);return jo((function(){e.apply(i,n)}),t)}function fr(e,t,n,r){var i=-1,o=At,s=!0,u=e.length,a=[],f=t.length;if(!u)return a;n&&(t=Tt(t,Zt(n))),r?(o=It,s=!1):t.length>=200&&(o=Gt,s=!1,t=new Wn(t));e:for(;++i<u;){var c=e[i],l=null==n?c:n(c);if(c=r||0!==c?c:0,s&&l==l){for(var h=f;h--;)if(t[h]===l)continue e;a.push(c)}else o(t,l,r)||a.push(c)}return a}kn.templateSettings={escape:Z,evaluate:Y,interpolate:G,variable:"",imports:{_:kn}},kn.prototype=Pn.prototype,kn.prototype.constructor=kn,Fn.prototype=Dn(Pn.prototype),Fn.prototype.constructor=Fn,Hn.prototype=Dn(Pn.prototype),Hn.prototype.constructor=Hn,zn.prototype.clear=function(){this.__data__=Nn?Nn(null):{},this.size=0},zn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},zn.prototype.get=function(e){var t=this.__data__;if(Nn){var n=t[e];return n===s?i:n}return $e.call(t,e)?t[e]:i},zn.prototype.has=function(e){var t=this.__data__;return Nn?t[e]!==i:$e.call(t,e)},zn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Nn&&t===i?s:t,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=er(t,e);return!(n<0||(n==t.length-1?t.pop():Ve.call(t,n,1),--this.size,0))},qn.prototype.get=function(e){var t=this.__data__,n=er(t,e);return n<0?i:t[n][1]},qn.prototype.has=function(e){return er(this.__data__,e)>-1},qn.prototype.set=function(e,t){var n=this.__data__,r=er(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Jn.prototype.clear=function(){this.size=0,this.__data__={hash:new zn,map:new(On||qn),string:new zn}},Jn.prototype.delete=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},Jn.prototype.get=function(e){return so(this,e).get(e)},Jn.prototype.has=function(e){return so(this,e).has(e)},Jn.prototype.set=function(e,t){var n=so(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Wn.prototype.add=Wn.prototype.push=function(e){return this.__data__.set(e,s),this},Wn.prototype.has=function(e){return this.__data__.has(e)},Vn.prototype.clear=function(){this.__data__=new qn,this.size=0},Vn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Vn.prototype.get=function(e){return this.__data__.get(e)},Vn.prototype.has=function(e){return this.__data__.has(e)},Vn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof qn){var r=n.__data__;if(!On||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Jn(r)}return n.set(e,t),this.size=n.size,this};var cr=Ii(mr),lr=Ii(vr,!0);function hr(e,t){var n=!0;return cr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function dr(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],u=t(s);if(null!=u&&(a===i?u==u&&!uu(u):n(u,a)))var a=u,f=s}return f}function pr(e,t){var n=[];return cr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function gr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=go),i||(i=[]);++o<s;){var u=e[o];t>0&&n(u)?t>1?gr(u,t-1,n,r,i):Ut(i,u):r||(i[i.length]=u)}return i}var yr=Ti(),br=Ti(!0);function mr(e,t){return e&&yr(e,t,Iu)}function vr(e,t){return e&&br(e,t,Iu)}function _r(e,t){return jt(t,(function(t){return Ys(e[t])}))}function wr(e,t){for(var n=0,r=(t=yi(t,e)).length;null!=e&&n<r;)e=e[Lo(t[n++])];return n&&n==r?e:i}function Sr(e,t,n){var r=t(e);return zs(e)?r:Ut(r,n(e))}function Or(e){return null==e?e===i?"[object Undefined]":"[object Null]":Xe&&Xe in xe(e)?function(e){var t=$e.call(e,Xe),n=e[Xe];try{e[Xe]=i;var r=!0}catch(e){}var o=Le.call(e);return r&&(t?e[Xe]=n:delete e[Xe]),o}(e):function(e){return Le.call(e)}(e)}function xr(e,t){return e>t}function Er(e,t){return null!=e&&$e.call(e,t)}function Br(e,t){return null!=e&&t in xe(e)}function Nr(e,t,n){for(var o=n?It:At,s=e[0].length,u=e.length,a=u,f=r(u),c=1/0,l=[];a--;){var h=e[a];a&&t&&(h=Tt(h,Zt(t))),c=bn(h.length,c),f[a]=!n&&(t||s>=120&&h.length>=120)?new Wn(a&&h):i}h=e[0];var d=-1,p=f[0];e:for(;++d<s&&l.length<c;){var g=h[d],y=t?t(g):g;if(g=n||0!==g?g:0,!(p?Gt(p,y):o(l,y,n))){for(a=u;--a;){var b=f[a];if(!(b?Gt(b,y):o(e[a],y,n)))continue e}p&&p.push(y),l.push(g)}}return l}function jr(e,t,n){var r=null==(e=Eo(e,t=yi(t,e)))?e:e[Lo(Zo(t))];return null==r?i:Ot(r,e,n)}function Ar(e){return eu(e)&&Or(e)==g}function Ir(e,t,n,r,o){return e===t||(null==e||null==t||!eu(e)&&!eu(t)?e!=e&&t!=t:function(e,t,n,r,o,s){var u=zs(e),a=zs(t),f=u?y:lo(e),c=a?y:lo(t),l=(f=f==g?x:f)==x,h=(c=c==g?x:c)==x,d=f==c;if(d&&Vs(e)){if(!Vs(t))return!1;u=!0,l=!1}if(d&&!l)return s||(s=new Vn),u||au(e)?Xi(e,t,n,r,o,s):function(e,t,n,r,i,o,s){switch(n){case U:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case T:return!(e.byteLength!=t.byteLength||!o(new He(e),new He(t)));case b:case m:case O:return Ds(+e,+t);case v:return e.name==t.name&&e.message==t.message;case B:case j:return e==t+"";case S:var u=on;case N:var a=1&r;if(u||(u=an),e.size!=t.size&&!a)return!1;var f=s.get(e);if(f)return f==t;r|=2,s.set(e,t);var c=Xi(u(e),u(t),r,i,o,s);return s.delete(e),c;case A:if(Ln)return Ln.call(e)==Ln.call(t)}return!1}(e,t,f,n,r,o,s);if(!(1&n)){var p=l&&$e.call(e,"__wrapped__"),_=h&&$e.call(t,"__wrapped__");if(p||_){var w=p?e.value():e,E=_?t.value():t;return s||(s=new Vn),o(w,E,n,r,s)}}return!!d&&(s||(s=new Vn),function(e,t,n,r,o,s){var u=1&n,a=eo(e),f=a.length;if(f!=eo(t).length&&!u)return!1;for(var c=f;c--;){var l=a[c];if(!(u?l in t:$e.call(t,l)))return!1}var h=s.get(e),d=s.get(t);if(h&&d)return h==t&&d==e;var p=!0;s.set(e,t),s.set(t,e);for(var g=u;++c<f;){var y=e[l=a[c]],b=t[l];if(r)var m=u?r(b,y,l,t,e,s):r(y,b,l,e,t,s);if(!(m===i?y===b||o(y,b,n,r,s):m)){p=!1;break}g||(g="constructor"==l)}if(p&&!g){var v=e.constructor,_=t.constructor;v==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof _&&_ instanceof _||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,n,r,o,s))}(e,t,n,r,Ir,o))}function Tr(e,t,n,r){var o=n.length,s=o,u=!r;if(null==e)return!s;for(e=xe(e);o--;){var a=n[o];if(u&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<s;){var f=(a=n[o])[0],c=e[f],l=a[1];if(u&&a[2]){if(c===i&&!(f in e))return!1}else{var h=new Vn;if(r)var d=r(c,l,f,e,t,h);if(!(d===i?Ir(l,c,3,r,h):d))return!1}}return!0}function Ur(e){return!(!Qs(e)||(t=e,Ce&&Ce in t))&&(Ys(e)?De:ge).test(Mo(e));var t}function $r(e){return"function"==typeof e?e:null==e?na:"object"==typeof e?zs(e)?kr(e[0],e[1]):Mr(e):la(e)}function Rr(e){if(!wo(e))return gn(e);var t=[];for(var n in xe(e))$e.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Cr(e,t){return e<t}function Lr(e,t){var n=-1,i=Js(e)?r(e.length):[];return cr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Mr(e){var t=uo(e);return 1==t.length&&t[0][2]?Oo(t[0][0],t[0][1]):function(n){return n===e||Tr(n,e,t)}}function kr(e,t){return mo(e)&&So(t)?Oo(Lo(e),t):function(n){var r=Eu(n,e);return r===i&&r===t?Bu(n,e):Ir(t,r,3)}}function Dr(e,t,n,r,o){e!==t&&yr(t,(function(s,u){if(o||(o=new Vn),Qs(s))!function(e,t,n,r,o,s,u){var a=Bo(e,n),f=Bo(t,n),c=u.get(f);if(c)Xn(e,n,c);else{var l=s?s(a,f,n+"",e,t,u):i,h=l===i;if(h){var d=zs(f),p=!d&&Vs(f),g=!d&&!p&&au(f);l=f,d||p||g?zs(a)?l=a:Ws(a)?l=Bi(a):p?(h=!1,l=_i(f,!0)):g?(h=!1,l=Si(f,!0)):l=[]:ru(f)||Hs(f)?(l=a,Hs(a)?l=yu(a):Qs(a)&&!Ys(a)||(l=po(f))):h=!1}h&&(u.set(f,l),o(l,f,r,s,u),u.delete(f)),Xn(e,n,l)}}(e,t,u,n,Dr,r,o);else{var a=r?r(Bo(e,u),s,u+"",e,t,o):i;a===i&&(a=s),Xn(e,u,a)}}),Tu)}function Pr(e,t){var n=e.length;if(n)return yo(t+=t<0?n:0,n)?e[t]:i}function Fr(e,t,n){t=t.length?Tt(t,(function(e){return zs(e)?function(t){return wr(t,1===e.length?e[0]:e)}:e})):[na];var r=-1;t=Tt(t,Zt(oo()));var i=Lr(e,(function(e,n,i){var o=Tt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var r=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,u=n.length;++r<s;){var a=Oi(i[r],o[r]);if(a)return r>=u?a:a*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));r--;)e[r]=e[r].value;return e}(i)}function Hr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],u=wr(e,s);n(u,s)&&Yr(o,yi(s,e),u)}return o}function zr(e,t,n,r){var i=r?Pt:Dt,o=-1,s=t.length,u=e;for(e===t&&(t=Bi(t)),n&&(u=Tt(e,Zt(n)));++o<s;)for(var a=0,f=t[o],c=n?n(f):f;(a=i(u,c,a,r))>-1;)u!==e&&Ve.call(u,a,1),Ve.call(e,a,1);return e}function qr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;yo(i)?Ve.call(e,i,1):ai(e,i)}}return e}function Jr(e,t){return e+dt(_n()*(t-e+1))}function Wr(e,t){var n="";if(!e||t<1||t>l)return n;do{t%2&&(n+=e),(t=dt(t/2))&&(e+=e)}while(t);return n}function Vr(e,t){return Ao(xo(e,t,na),e+"")}function Kr(e){return Zn(Du(e))}function Zr(e,t){var n=Du(e);return Uo(n,or(t,0,n.length))}function Yr(e,t,n,r){if(!Qs(e))return e;for(var o=-1,s=(t=yi(t,e)).length,u=s-1,a=e;null!=a&&++o<s;){var f=Lo(t[o]),c=n;if("__proto__"===f||"constructor"===f||"prototype"===f)return e;if(o!=u){var l=a[f];(c=r?r(l,f,a):i)===i&&(c=Qs(l)?l:yo(t[o+1])?[]:{})}Qn(a,f,c),a=a[f]}return e}var Gr=jn?function(e,t){return jn.set(e,t),e}:na,Xr=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Qu(t),writable:!0})}:na;function Qr(e){return Uo(Du(e))}function ei(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function ti(e,t){var n;return cr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ni(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!uu(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return ri(e,t,na,n)}function ri(e,t,n,r){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var u=(t=n(t))!=t,a=null===t,f=uu(t),c=t===i;o<s;){var l=dt((o+s)/2),h=n(e[l]),d=h!==i,p=null===h,g=h==h,y=uu(h);if(u)var b=r||g;else b=c?g&&(r||d):a?g&&d&&(r||!p):f?g&&d&&!p&&(r||!y):!p&&!y&&(r?h<=t:h<t);b?o=l+1:s=l}return bn(s,4294967294)}function ii(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],u=t?t(s):s;if(!n||!Ds(u,a)){var a=u;o[i++]=0===s?0:s}}return o}function oi(e){return"number"==typeof e?e:uu(e)?h:+e}function si(e){if("string"==typeof e)return e;if(zs(e))return Tt(e,si)+"";if(uu(e))return Mn?Mn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ui(e,t,n){var r=-1,i=At,o=e.length,s=!0,u=[],a=u;if(n)s=!1,i=It;else if(o>=200){var f=t?null:Wi(e);if(f)return an(f);s=!1,i=Gt,a=new Wn}else a=t?[]:u;e:for(;++r<o;){var c=e[r],l=t?t(c):c;if(c=n||0!==c?c:0,s&&l==l){for(var h=a.length;h--;)if(a[h]===l)continue e;t&&a.push(l),u.push(c)}else i(a,l,n)||(a!==u&&a.push(l),u.push(c))}return u}function ai(e,t){return null==(e=Eo(e,t=yi(t,e)))||delete e[Lo(Zo(t))]}function fi(e,t,n,r){return Yr(e,t,n(wr(e,t)),r)}function ci(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ei(e,r?0:o,r?o+1:i):ei(e,r?o+1:0,r?i:o)}function li(e,t){var n=e;return n instanceof Hn&&(n=n.value()),$t(t,(function(e,t){return t.func.apply(t.thisArg,Ut([e],t.args))}),n)}function hi(e,t,n){var i=e.length;if(i<2)return i?ui(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var u=e[o],a=-1;++a<i;)a!=o&&(s[o]=fr(s[o]||u,e[a],t,n));return ui(gr(s,1),t,n)}function di(e,t,n){for(var r=-1,o=e.length,s=t.length,u={};++r<o;){var a=r<s?t[r]:i;n(u,e[r],a)}return u}function pi(e){return Ws(e)?e:[]}function gi(e){return"function"==typeof e?e:na}function yi(e,t){return zs(e)?e:mo(e,t)?[e]:Co(bu(e))}var bi=Vr;function mi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ei(e,t,n)}var vi=st||function(e){return lt.clearTimeout(e)};function _i(e,t){if(t)return e.slice();var n=e.length,r=ze?ze(n):new e.constructor(n);return e.copy(r),r}function wi(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function Si(e,t){var n=t?wi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Oi(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,s=uu(e),u=t!==i,a=null===t,f=t==t,c=uu(t);if(!a&&!c&&!s&&e>t||s&&u&&f&&!a&&!c||r&&u&&f||!n&&f||!o)return 1;if(!r&&!s&&!c&&e<t||c&&n&&o&&!r&&!s||a&&n&&o||!u&&o||!f)return-1}return 0}function xi(e,t,n,i){for(var o=-1,s=e.length,u=n.length,a=-1,f=t.length,c=yn(s-u,0),l=r(f+c),h=!i;++a<f;)l[a]=t[a];for(;++o<u;)(h||o<s)&&(l[n[o]]=e[o]);for(;c--;)l[a++]=e[o++];return l}function Ei(e,t,n,i){for(var o=-1,s=e.length,u=-1,a=n.length,f=-1,c=t.length,l=yn(s-a,0),h=r(l+c),d=!i;++o<l;)h[o]=e[o];for(var p=o;++f<c;)h[p+f]=t[f];for(;++u<a;)(d||o<s)&&(h[p+n[u]]=e[o++]);return h}function Bi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Ni(e,t,n,r){var o=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var a=t[s],f=r?r(n[a],e[a],a,n,e):i;f===i&&(f=e[a]),o?rr(n,a,f):Qn(n,a,f)}return n}function ji(e,t){return function(n,r){var i=zs(n)?xt:tr,o=t?t():{};return i(n,e,oo(r,2),o)}}function Ai(e){return Vr((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,u=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,u&&bo(n[0],n[1],u)&&(s=o<3?i:s,o=1),t=xe(t);++r<o;){var a=n[r];a&&e(t,a,r,s)}return t}))}function Ii(e,t){return function(n,r){if(null==n)return n;if(!Js(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=xe(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ti(e){return function(t,n,r){for(var i=-1,o=xe(t),s=r(t),u=s.length;u--;){var a=s[e?u:++i];if(!1===n(o[a],a,o))break}return t}}function Ui(e){return function(t){var n=rn(t=bu(t))?ln(t):i,r=n?n[0]:t.charAt(0),o=n?mi(n,1).join(""):t.slice(1);return r[e]()+o}}function $i(e){return function(t){return $t(Yu(Hu(t).replace(Ye,"")),e,"")}}function Ri(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Dn(e.prototype),r=e.apply(n,t);return Qs(r)?r:n}}function Ci(e){return function(t,n,r){var o=xe(t);if(!Js(t)){var s=oo(n,3);t=Iu(t),n=function(e){return s(o[e],e,o)}}var u=e(t,n,r);return u>-1?o[s?t[u]:u]:i}}function Li(e){return Qi((function(t){var n=t.length,r=n,s=Fn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new Ne(o);if(s&&!a&&"wrapper"==ro(u))var a=new Fn([],!0)}for(r=a?r:n;++r<n;){var f=ro(u=t[r]),c="wrapper"==f?no(u):i;a=c&&vo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?a[ro(c[0])].apply(a,c[3]):1==u.length&&vo(u)?a[f]():a.thru(u)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&zs(r))return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Mi(e,t,n,o,s,u,a,c,l,h){var d=t&f,p=1&t,g=2&t,y=24&t,b=512&t,m=g?i:Ri(e);return function f(){for(var v=arguments.length,_=r(v),w=v;w--;)_[w]=arguments[w];if(y)var S=io(f),O=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(_,S);if(o&&(_=xi(_,o,s,y)),u&&(_=Ei(_,u,a,y)),v-=O,y&&v<h){var x=un(_,S);return qi(e,t,Mi,f.placeholder,n,_,x,c,l,h-v)}var E=p?n:this,B=g?E[e]:e;return v=_.length,c?_=function(e,t){for(var n=e.length,r=bn(t.length,n),o=Bi(e);r--;){var s=t[r];e[r]=yo(s,n)?o[s]:i}return e}(_,c):b&&v>1&&_.reverse(),d&&l<v&&(_.length=l),this&&this!==lt&&this instanceof f&&(B=m||Ri(B)),B.apply(E,_)}}function ki(e,t){return function(n,r){return function(e,t,n,r){return mr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Di(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=oi(n),r=oi(r)),o=e(n,r)}return o}}function Pi(e){return Qi((function(t){return t=Tt(t,Zt(oo())),Vr((function(n){var r=this;return e(t,(function(e){return Ot(e,r,n)}))}))}))}function Fi(e,t){var n=(t=t===i?" ":si(t)).length;if(n<2)return n?Wr(t,e):t;var r=Wr(t,ht(e/cn(t)));return rn(t)?mi(ln(r),0,e).join(""):r.slice(0,e)}function Hi(e){return function(t,n,o){return o&&"number"!=typeof o&&bo(t,n,o)&&(n=o=i),t=hu(t),n===i?(n=t,t=0):n=hu(n),function(e,t,n,i){for(var o=-1,s=yn(ht((t-e)/(n||1)),0),u=r(s);s--;)u[i?s:++o]=e,e+=n;return u}(t,n,o=o===i?t<n?1:-1:hu(o),e)}}function zi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=gu(t),n=gu(n)),e(t,n)}}function qi(e,t,n,r,o,s,u,f,c,l){var h=8&t;t|=h?a:64,4&(t&=~(h?64:a))||(t&=-4);var d=[e,t,o,h?s:i,h?u:i,h?i:s,h?i:u,f,c,l],p=n.apply(i,d);return vo(e)&&No(p,d),p.placeholder=r,Io(p,e,t)}function Ji(e){var t=Oe[e];return function(e,n){if(e=gu(e),(n=null==n?0:bn(du(n),292))&&Lt(e)){var r=(bu(e)+"e").split("e");return+((r=(bu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Wi=En&&1/an(new En([,-0]))[1]==c?function(e){return new En(e)}:ua;function Vi(e){return function(t){var n=lo(t);return n==S?on(t):n==N?fn(t):function(e,t){return Tt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ki(e,t,n,s,c,l,h,d){var p=2&t;if(!p&&"function"!=typeof e)throw new Ne(o);var g=s?s.length:0;if(g||(t&=-97,s=c=i),h=h===i?h:yn(du(h),0),d=d===i?d:du(d),g-=c?c.length:0,64&t){var y=s,b=c;s=c=i}var m=p?i:no(e),v=[e,t,n,s,c,y,b,l,h,d];if(m&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==f&&8==n||r==f&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var a=t[3];if(a){var c=e[3];e[3]=c?xi(c,a,t[4]):a,e[4]=c?un(e[3],u):t[4]}(a=t[5])&&(c=e[5],e[5]=c?Ei(c,a,t[6]):a,e[6]=c?un(e[5],u):t[6]),(a=t[7])&&(e[7]=a),r&f&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(v,m),e=v[0],t=v[1],n=v[2],s=v[3],c=v[4],!(d=v[9]=v[9]===i?p?0:e.length:yn(v[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)_=8==t||16==t?function(e,t,n){var o=Ri(e);return function s(){for(var u=arguments.length,a=r(u),f=u,c=io(s);f--;)a[f]=arguments[f];var l=u<3&&a[0]!==c&&a[u-1]!==c?[]:un(a,c);return(u-=l.length)<n?qi(e,t,Mi,s.placeholder,i,a,l,i,i,n-u):Ot(this&&this!==lt&&this instanceof s?o:e,this,a)}}(e,t,d):t!=a&&33!=t||c.length?Mi.apply(i,v):function(e,t,n,i){var o=1&t,s=Ri(e);return function t(){for(var u=-1,a=arguments.length,f=-1,c=i.length,l=r(c+a),h=this&&this!==lt&&this instanceof t?s:e;++f<c;)l[f]=i[f];for(;a--;)l[f++]=arguments[++u];return Ot(h,o?n:this,l)}}(e,t,n,s);else var _=function(e,t,n){var r=1&t,i=Ri(e);return function t(){return(this&&this!==lt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Io((m?Gr:No)(_,v),e,t)}function Zi(e,t,n,r){return e===i||Ds(e,Ie[n])&&!$e.call(r,n)?t:e}function Yi(e,t,n,r,o,s){return Qs(e)&&Qs(t)&&(s.set(t,e),Dr(e,t,i,Yi,s),s.delete(t)),e}function Gi(e){return ru(e)?i:e}function Xi(e,t,n,r,o,s){var u=1&n,a=e.length,f=t.length;if(a!=f&&!(u&&f>a))return!1;var c=s.get(e),l=s.get(t);if(c&&l)return c==t&&l==e;var h=-1,d=!0,p=2&n?new Wn:i;for(s.set(e,t),s.set(t,e);++h<a;){var g=e[h],y=t[h];if(r)var b=u?r(y,g,h,t,e,s):r(g,y,h,e,t,s);if(b!==i){if(b)continue;d=!1;break}if(p){if(!Ct(t,(function(e,t){if(!Gt(p,t)&&(g===e||o(g,e,n,r,s)))return p.push(t)}))){d=!1;break}}else if(g!==y&&!o(g,y,n,r,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function Qi(e){return Ao(xo(e,i,qo),e+"")}function eo(e){return Sr(e,Iu,fo)}function to(e){return Sr(e,Tu,co)}var no=jn?function(e){return jn.get(e)}:ua;function ro(e){for(var t=e.name+"",n=An[t],r=$e.call(An,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function io(e){return($e.call(kn,"placeholder")?kn:e).placeholder}function oo(){var e=kn.iteratee||ra;return e=e===ra?$r:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function uo(e){for(var t=Iu(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,So(i)]}return t}function ao(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Ur(n)?n:i}var fo=gt?function(e){return null==e?[]:(e=xe(e),jt(gt(e),(function(t){return We.call(e,t)})))}:pa,co=gt?function(e){for(var t=[];e;)Ut(t,fo(e)),e=qe(e);return t}:pa,lo=Or;function ho(e,t,n){for(var r=-1,i=(t=yi(t,e)).length,o=!1;++r<i;){var s=Lo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Xs(i)&&yo(s,i)&&(zs(e)||Hs(e))}function po(e){return"function"!=typeof e.constructor||wo(e)?{}:Dn(qe(e))}function go(e){return zs(e)||Hs(e)||!!(Ke&&e&&e[Ke])}function yo(e,t){var n=typeof e;return!!(t=null==t?l:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function bo(e,t,n){if(!Qs(n))return!1;var r=typeof t;return!!("number"==r?Js(n)&&yo(t,n.length):"string"==r&&t in n)&&Ds(n[t],e)}function mo(e,t){if(zs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!uu(e))||Q.test(e)||!X.test(e)||null!=t&&e in xe(t)}function vo(e){var t=ro(e),n=kn[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var r=no(n);return!!r&&e===r[0]}(Sn&&lo(new Sn(new ArrayBuffer(1)))!=U||On&&lo(new On)!=S||xn&&lo(xn.resolve())!=E||En&&lo(new En)!=N||Bn&&lo(new Bn)!=I)&&(lo=function(e){var t=Or(e),n=t==x?e.constructor:i,r=n?Mo(n):"";if(r)switch(r){case In:return U;case Tn:return S;case Un:return E;case $n:return N;case Rn:return I}return t});var _o=Te?Ys:ga;function wo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ie)}function So(e){return e==e&&!Qs(e)}function Oo(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in xe(n))}}function xo(e,t,n){return t=yn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=yn(i.length-t,0),u=r(s);++o<s;)u[o]=i[t+o];o=-1;for(var a=r(t+1);++o<t;)a[o]=i[o];return a[t]=n(u),Ot(e,this,a)}}function Eo(e,t){return t.length<2?e:wr(e,ei(t,0,-1))}function Bo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var No=To(Gr),jo=ct||function(e,t){return lt.setTimeout(e,t)},Ao=To(Xr);function Io(e,t,n){var r=t+"";return Ao(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Et(p,(function(n){var r="_."+n[0];t&n[1]&&!At(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ue):[]}(r),n)))}function To(e){var t=0,n=0;return function(){var r=mn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Uo(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var s=Jr(n,o),u=e[s];e[s]=e[n],e[n]=u}return e.length=t,e}var $o,Ro,Co=($o=$s((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,i){t.push(r?i.replace(ce,"$1"):n||e)})),t}),(function(e){return 500===Ro.size&&Ro.clear(),e})),Ro=$o.cache,$o);function Lo(e){if("string"==typeof e||uu(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Mo(e){if(null!=e){try{return Ue.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ko(e){if(e instanceof Hn)return e.clone();var t=new Fn(e.__wrapped__,e.__chain__);return t.__actions__=Bi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Do=Vr((function(e,t){return Ws(e)?fr(e,gr(t,1,Ws,!0)):[]})),Po=Vr((function(e,t){var n=Zo(t);return Ws(n)&&(n=i),Ws(e)?fr(e,gr(t,1,Ws,!0),oo(n,2)):[]})),Fo=Vr((function(e,t){var n=Zo(t);return Ws(n)&&(n=i),Ws(e)?fr(e,gr(t,1,Ws,!0),i,n):[]}));function Ho(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:du(n);return i<0&&(i=yn(r+i,0)),kt(e,oo(t,3),i)}function zo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=du(n),o=n<0?yn(r+o,0):bn(o,r-1)),kt(e,oo(t,3),o,!0)}function qo(e){return null!=e&&e.length?gr(e,1):[]}function Jo(e){return e&&e.length?e[0]:i}var Wo=Vr((function(e){var t=Tt(e,pi);return t.length&&t[0]===e[0]?Nr(t):[]})),Vo=Vr((function(e){var t=Zo(e),n=Tt(e,pi);return t===Zo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Nr(n,oo(t,2)):[]})),Ko=Vr((function(e){var t=Zo(e),n=Tt(e,pi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Nr(n,i,t):[]}));function Zo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Yo=Vr(Go);function Go(e,t){return e&&e.length&&t&&t.length?zr(e,t):e}var Xo=Qi((function(e,t){var n=null==e?0:e.length,r=ir(e,t);return qr(e,Tt(t,(function(e){return yo(e,n)?+e:e})).sort(Oi)),r}));function Qo(e){return null==e?e:wn.call(e)}var es=Vr((function(e){return ui(gr(e,1,Ws,!0))})),ts=Vr((function(e){var t=Zo(e);return Ws(t)&&(t=i),ui(gr(e,1,Ws,!0),oo(t,2))})),ns=Vr((function(e){var t=Zo(e);return t="function"==typeof t?t:i,ui(gr(e,1,Ws,!0),i,t)}));function rs(e){if(!e||!e.length)return[];var t=0;return e=jt(e,(function(e){if(Ws(e))return t=yn(e.length,t),!0})),Vt(t,(function(t){return Tt(e,zt(t))}))}function is(e,t){if(!e||!e.length)return[];var n=rs(e);return null==t?n:Tt(n,(function(e){return Ot(t,i,e)}))}var os=Vr((function(e,t){return Ws(e)?fr(e,t):[]})),ss=Vr((function(e){return hi(jt(e,Ws))})),us=Vr((function(e){var t=Zo(e);return Ws(t)&&(t=i),hi(jt(e,Ws),oo(t,2))})),as=Vr((function(e){var t=Zo(e);return t="function"==typeof t?t:i,hi(jt(e,Ws),i,t)})),fs=Vr(rs),cs=Vr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,is(e,n)}));function ls(e){var t=kn(e);return t.__chain__=!0,t}function hs(e,t){return t(e)}var ds=Qi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return ir(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Hn&&yo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:hs,args:[o],thisArg:i}),new Fn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),ps=ji((function(e,t,n){$e.call(e,n)?++e[n]:rr(e,n,1)})),gs=Ci(Ho),ys=Ci(zo);function bs(e,t){return(zs(e)?Et:cr)(e,oo(t,3))}function ms(e,t){return(zs(e)?Bt:lr)(e,oo(t,3))}var vs=ji((function(e,t,n){$e.call(e,n)?e[n].push(t):rr(e,n,[t])})),_s=Vr((function(e,t,n){var i=-1,o="function"==typeof t,s=Js(e)?r(e.length):[];return cr(e,(function(e){s[++i]=o?Ot(t,e,n):jr(e,t,n)})),s})),ws=ji((function(e,t,n){rr(e,n,t)}));function Ss(e,t){return(zs(e)?Tt:Lr)(e,oo(t,3))}var Os=ji((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),xs=Vr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&bo(e,t[0],t[1])?t=[]:n>2&&bo(t[0],t[1],t[2])&&(t=[t[0]]),Fr(e,gr(t,1),[])})),Es=ft||function(){return lt.Date.now()};function Bs(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ki(e,f,i,i,i,i,t)}function Ns(e,t){var n;if("function"!=typeof t)throw new Ne(o);return e=du(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var js=Vr((function(e,t,n){var r=1;if(n.length){var i=un(n,io(js));r|=a}return Ki(e,r,t,n,i)})),As=Vr((function(e,t,n){var r=3;if(n.length){var i=un(n,io(As));r|=a}return Ki(t,r,e,n,i)}));function Is(e,t,n){var r,s,u,a,f,c,l=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new Ne(o);function g(t){var n=r,o=s;return r=s=i,l=t,a=e.apply(o,n)}function y(e){var n=e-c;return c===i||n>=t||n<0||d&&e-l>=u}function b(){var e=Es();if(y(e))return m(e);f=jo(b,function(e){var n=t-(e-c);return d?bn(n,u-(e-l)):n}(e))}function m(e){return f=i,p&&r?g(e):(r=s=i,a)}function v(){var e=Es(),n=y(e);if(r=arguments,s=this,c=e,n){if(f===i)return function(e){return l=e,f=jo(b,t),h?g(e):a}(c);if(d)return vi(f),f=jo(b,t),g(c)}return f===i&&(f=jo(b,t)),a}return t=gu(t)||0,Qs(n)&&(h=!!n.leading,u=(d="maxWait"in n)?yn(gu(n.maxWait)||0,t):u,p="trailing"in n?!!n.trailing:p),v.cancel=function(){f!==i&&vi(f),l=0,r=c=s=f=i},v.flush=function(){return f===i?a:m(Es())},v}var Ts=Vr((function(e,t){return ar(e,1,t)})),Us=Vr((function(e,t,n){return ar(e,gu(t)||0,n)}));function $s(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ne(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new($s.Cache||Jn),n}function Rs(e){if("function"!=typeof e)throw new Ne(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}$s.Cache=Jn;var Cs=bi((function(e,t){var n=(t=1==t.length&&zs(t[0])?Tt(t[0],Zt(oo())):Tt(gr(t,1),Zt(oo()))).length;return Vr((function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Ot(e,this,r)}))})),Ls=Vr((function(e,t){var n=un(t,io(Ls));return Ki(e,a,i,t,n)})),Ms=Vr((function(e,t){var n=un(t,io(Ms));return Ki(e,64,i,t,n)})),ks=Qi((function(e,t){return Ki(e,256,i,i,i,t)}));function Ds(e,t){return e===t||e!=e&&t!=t}var Ps=zi(xr),Fs=zi((function(e,t){return e>=t})),Hs=Ar(function(){return arguments}())?Ar:function(e){return eu(e)&&$e.call(e,"callee")&&!We.call(e,"callee")},zs=r.isArray,qs=bt?Zt(bt):function(e){return eu(e)&&Or(e)==T};function Js(e){return null!=e&&Xs(e.length)&&!Ys(e)}function Ws(e){return eu(e)&&Js(e)}var Vs=yt||ga,Ks=mt?Zt(mt):function(e){return eu(e)&&Or(e)==m};function Zs(e){if(!eu(e))return!1;var t=Or(e);return t==v||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ru(e)}function Ys(e){if(!Qs(e))return!1;var t=Or(e);return t==_||t==w||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Gs(e){return"number"==typeof e&&e==du(e)}function Xs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function Qs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eu(e){return null!=e&&"object"==typeof e}var tu=vt?Zt(vt):function(e){return eu(e)&&lo(e)==S};function nu(e){return"number"==typeof e||eu(e)&&Or(e)==O}function ru(e){if(!eu(e)||Or(e)!=x)return!1;var t=qe(e);if(null===t)return!0;var n=$e.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ue.call(n)==Me}var iu=_t?Zt(_t):function(e){return eu(e)&&Or(e)==B},ou=wt?Zt(wt):function(e){return eu(e)&&lo(e)==N};function su(e){return"string"==typeof e||!zs(e)&&eu(e)&&Or(e)==j}function uu(e){return"symbol"==typeof e||eu(e)&&Or(e)==A}var au=St?Zt(St):function(e){return eu(e)&&Xs(e.length)&&!!it[Or(e)]},fu=zi(Cr),cu=zi((function(e,t){return e<=t}));function lu(e){if(!e)return[];if(Js(e))return su(e)?ln(e):Bi(e);if(Ze&&e[Ze])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ze]());var t=lo(e);return(t==S?on:t==N?an:Du)(e)}function hu(e){return e?(e=gu(e))===c||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function du(e){var t=hu(e),n=t%1;return t==t?n?t-n:t:0}function pu(e){return e?or(du(e),0,d):0}function gu(e){if("number"==typeof e)return e;if(uu(e))return h;if(Qs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Qs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Kt(e);var n=pe.test(e);return n||ye.test(e)?at(e.slice(2),n?2:8):de.test(e)?h:+e}function yu(e){return Ni(e,Tu(e))}function bu(e){return null==e?"":si(e)}var mu=Ai((function(e,t){if(wo(t)||Js(t))Ni(t,Iu(t),e);else for(var n in t)$e.call(t,n)&&Qn(e,n,t[n])})),vu=Ai((function(e,t){Ni(t,Tu(t),e)})),_u=Ai((function(e,t,n,r){Ni(t,Tu(t),e,r)})),wu=Ai((function(e,t,n,r){Ni(t,Iu(t),e,r)})),Su=Qi(ir),Ou=Vr((function(e,t){e=xe(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&bo(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],u=Tu(s),a=-1,f=u.length;++a<f;){var c=u[a],l=e[c];(l===i||Ds(l,Ie[c])&&!$e.call(e,c))&&(e[c]=s[c])}return e})),xu=Vr((function(e){return e.push(i,Yi),Ot($u,i,e)}));function Eu(e,t,n){var r=null==e?i:wr(e,t);return r===i?n:r}function Bu(e,t){return null!=e&&ho(e,t,Br)}var Nu=ki((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),e[t]=n}),Qu(na)),ju=ki((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),$e.call(e,t)?e[t].push(n):e[t]=[n]}),oo),Au=Vr(jr);function Iu(e){return Js(e)?Kn(e):Rr(e)}function Tu(e){return Js(e)?Kn(e,!0):function(e){if(!Qs(e))return function(e){var t=[];if(null!=e)for(var n in xe(e))t.push(n);return t}(e);var t=wo(e),n=[];for(var r in e)("constructor"!=r||!t&&$e.call(e,r))&&n.push(r);return n}(e)}var Uu=Ai((function(e,t,n){Dr(e,t,n)})),$u=Ai((function(e,t,n,r){Dr(e,t,n,r)})),Ru=Qi((function(e,t){var n={};if(null==e)return n;var r=!1;t=Tt(t,(function(t){return t=yi(t,e),r||(r=t.length>1),t})),Ni(e,to(e),n),r&&(n=sr(n,7,Gi));for(var i=t.length;i--;)ai(n,t[i]);return n})),Cu=Qi((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return Bu(e,n)}))}(e,t)}));function Lu(e,t){if(null==e)return{};var n=Tt(to(e),(function(e){return[e]}));return t=oo(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var Mu=Vi(Iu),ku=Vi(Tu);function Du(e){return null==e?[]:Yt(e,Iu(e))}var Pu=$i((function(e,t,n){return t=t.toLowerCase(),e+(n?Fu(t):t)}));function Fu(e){return Zu(bu(e).toLowerCase())}function Hu(e){return(e=bu(e))&&e.replace(me,en).replace(Ge,"")}var zu=$i((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),qu=$i((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ju=Ui("toLowerCase"),Wu=$i((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Vu=$i((function(e,t,n){return e+(n?" ":"")+Zu(t)})),Ku=$i((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Zu=Ui("toUpperCase");function Yu(e,t,n){return e=bu(e),(t=n?i:t)===i?function(e){return tt.test(e)}(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.match(ae)||[]}(e):e.match(t)||[]}var Gu=Vr((function(e,t){try{return Ot(e,i,t)}catch(e){return Zs(e)?e:new we(e)}})),Xu=Qi((function(e,t){return Et(t,(function(t){t=Lo(t),rr(e,t,js(e[t],e))})),e}));function Qu(e){return function(){return e}}var ea=Li(),ta=Li(!0);function na(e){return e}function ra(e){return $r("function"==typeof e?e:sr(e,1))}var ia=Vr((function(e,t){return function(n){return jr(n,e,t)}})),oa=Vr((function(e,t){return function(n){return jr(e,n,t)}}));function sa(e,t,n){var r=Iu(t),i=_r(t,r);null!=n||Qs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=_r(t,Iu(t)));var o=!(Qs(n)&&"chain"in n&&!n.chain),s=Ys(e);return Et(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Bi(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Ut([this.value()],arguments))})})),e}function ua(){}var aa=Pi(Tt),fa=Pi(Nt),ca=Pi(Ct);function la(e){return mo(e)?zt(Lo(e)):function(e){return function(t){return wr(t,e)}}(e)}var ha=Hi(),da=Hi(!0);function pa(){return[]}function ga(){return!1}var ya,ba=Di((function(e,t){return e+t}),0),ma=Ji("ceil"),va=Di((function(e,t){return e/t}),1),_a=Ji("floor"),wa=Di((function(e,t){return e*t}),1),Sa=Ji("round"),Oa=Di((function(e,t){return e-t}),0);return kn.after=function(e,t){if("function"!=typeof t)throw new Ne(o);return e=du(e),function(){if(--e<1)return t.apply(this,arguments)}},kn.ary=Bs,kn.assign=mu,kn.assignIn=vu,kn.assignInWith=_u,kn.assignWith=wu,kn.at=Su,kn.before=Ns,kn.bind=js,kn.bindAll=Xu,kn.bindKey=As,kn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return zs(e)?e:[e]},kn.chain=ls,kn.chunk=function(e,t,n){t=(n?bo(e,t,n):t===i)?1:yn(du(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,u=0,a=r(ht(o/t));s<o;)a[u++]=ei(e,s,s+=t);return a},kn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},kn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Ut(zs(n)?Bi(n):[n],gr(t,1))},kn.cond=function(e){var t=null==e?0:e.length,n=oo();return e=t?Tt(e,(function(e){if("function"!=typeof e[1])throw new Ne(o);return[n(e[0]),e[1]]})):[],Vr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Ot(i[0],this,n))return Ot(i[1],this,n)}}))},kn.conforms=function(e){return function(e){var t=Iu(e);return function(n){return ur(n,e,t)}}(sr(e,1))},kn.constant=Qu,kn.countBy=ps,kn.create=function(e,t){var n=Dn(e);return null==t?n:nr(n,t)},kn.curry=function e(t,n,r){var o=Ki(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},kn.curryRight=function e(t,n,r){var o=Ki(t,16,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},kn.debounce=Is,kn.defaults=Ou,kn.defaultsDeep=xu,kn.defer=Ts,kn.delay=Us,kn.difference=Do,kn.differenceBy=Po,kn.differenceWith=Fo,kn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=n||t===i?1:du(t))<0?0:t,r):[]},kn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,0,(t=r-(t=n||t===i?1:du(t)))<0?0:t):[]},kn.dropRightWhile=function(e,t){return e&&e.length?ci(e,oo(t,3),!0,!0):[]},kn.dropWhile=function(e,t){return e&&e.length?ci(e,oo(t,3),!0):[]},kn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&bo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=du(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:du(r))<0&&(r+=o),r=n>r?0:pu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},kn.filter=function(e,t){return(zs(e)?jt:pr)(e,oo(t,3))},kn.flatMap=function(e,t){return gr(Ss(e,t),1)},kn.flatMapDeep=function(e,t){return gr(Ss(e,t),c)},kn.flatMapDepth=function(e,t,n){return n=n===i?1:du(n),gr(Ss(e,t),n)},kn.flatten=qo,kn.flattenDeep=function(e){return null!=e&&e.length?gr(e,c):[]},kn.flattenDepth=function(e,t){return null!=e&&e.length?gr(e,t=t===i?1:du(t)):[]},kn.flip=function(e){return Ki(e,512)},kn.flow=ea,kn.flowRight=ta,kn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},kn.functions=function(e){return null==e?[]:_r(e,Iu(e))},kn.functionsIn=function(e){return null==e?[]:_r(e,Tu(e))},kn.groupBy=vs,kn.initial=function(e){return null!=e&&e.length?ei(e,0,-1):[]},kn.intersection=Wo,kn.intersectionBy=Vo,kn.intersectionWith=Ko,kn.invert=Nu,kn.invertBy=ju,kn.invokeMap=_s,kn.iteratee=ra,kn.keyBy=ws,kn.keys=Iu,kn.keysIn=Tu,kn.map=Ss,kn.mapKeys=function(e,t){var n={};return t=oo(t,3),mr(e,(function(e,r,i){rr(n,t(e,r,i),e)})),n},kn.mapValues=function(e,t){var n={};return t=oo(t,3),mr(e,(function(e,r,i){rr(n,r,t(e,r,i))})),n},kn.matches=function(e){return Mr(sr(e,1))},kn.matchesProperty=function(e,t){return kr(e,sr(t,1))},kn.memoize=$s,kn.merge=Uu,kn.mergeWith=$u,kn.method=ia,kn.methodOf=oa,kn.mixin=sa,kn.negate=Rs,kn.nthArg=function(e){return e=du(e),Vr((function(t){return Pr(t,e)}))},kn.omit=Ru,kn.omitBy=function(e,t){return Lu(e,Rs(oo(t)))},kn.once=function(e){return Ns(2,e)},kn.orderBy=function(e,t,n,r){return null==e?[]:(zs(t)||(t=null==t?[]:[t]),zs(n=r?i:n)||(n=null==n?[]:[n]),Fr(e,t,n))},kn.over=aa,kn.overArgs=Cs,kn.overEvery=fa,kn.overSome=ca,kn.partial=Ls,kn.partialRight=Ms,kn.partition=Os,kn.pick=Cu,kn.pickBy=Lu,kn.property=la,kn.propertyOf=function(e){return function(t){return null==e?i:wr(e,t)}},kn.pull=Yo,kn.pullAll=Go,kn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?zr(e,t,oo(n,2)):e},kn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?zr(e,t,i,n):e},kn.pullAt=Xo,kn.range=ha,kn.rangeRight=da,kn.rearg=ks,kn.reject=function(e,t){return(zs(e)?jt:pr)(e,Rs(oo(t,3)))},kn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=oo(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return qr(e,i),n},kn.rest=function(e,t){if("function"!=typeof e)throw new Ne(o);return Vr(e,t=t===i?t:du(t))},kn.reverse=Qo,kn.sampleSize=function(e,t,n){return t=(n?bo(e,t,n):t===i)?1:du(t),(zs(e)?Yn:Zr)(e,t)},kn.set=function(e,t,n){return null==e?e:Yr(e,t,n)},kn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Yr(e,t,n,r)},kn.shuffle=function(e){return(zs(e)?Gn:Qr)(e)},kn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&bo(e,t,n)?(t=0,n=r):(t=null==t?0:du(t),n=n===i?r:du(n)),ei(e,t,n)):[]},kn.sortBy=xs,kn.sortedUniq=function(e){return e&&e.length?ii(e):[]},kn.sortedUniqBy=function(e,t){return e&&e.length?ii(e,oo(t,2)):[]},kn.split=function(e,t,n){return n&&"number"!=typeof n&&bo(e,t,n)&&(t=n=i),(n=n===i?d:n>>>0)?(e=bu(e))&&("string"==typeof t||null!=t&&!iu(t))&&!(t=si(t))&&rn(e)?mi(ln(e),0,n):e.split(t,n):[]},kn.spread=function(e,t){if("function"!=typeof e)throw new Ne(o);return t=null==t?0:yn(du(t),0),Vr((function(n){var r=n[t],i=mi(n,0,t);return r&&Ut(i,r),Ot(e,this,i)}))},kn.tail=function(e){var t=null==e?0:e.length;return t?ei(e,1,t):[]},kn.take=function(e,t,n){return e&&e.length?ei(e,0,(t=n||t===i?1:du(t))<0?0:t):[]},kn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=r-(t=n||t===i?1:du(t)))<0?0:t,r):[]},kn.takeRightWhile=function(e,t){return e&&e.length?ci(e,oo(t,3),!1,!0):[]},kn.takeWhile=function(e,t){return e&&e.length?ci(e,oo(t,3)):[]},kn.tap=function(e,t){return t(e),e},kn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ne(o);return Qs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Is(e,t,{leading:r,maxWait:t,trailing:i})},kn.thru=hs,kn.toArray=lu,kn.toPairs=Mu,kn.toPairsIn=ku,kn.toPath=function(e){return zs(e)?Tt(e,Lo):uu(e)?[e]:Bi(Co(bu(e)))},kn.toPlainObject=yu,kn.transform=function(e,t,n){var r=zs(e),i=r||Vs(e)||au(e);if(t=oo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Qs(e)&&Ys(o)?Dn(qe(e)):{}}return(i?Et:mr)(e,(function(e,r,i){return t(n,e,r,i)})),n},kn.unary=function(e){return Bs(e,1)},kn.union=es,kn.unionBy=ts,kn.unionWith=ns,kn.uniq=function(e){return e&&e.length?ui(e):[]},kn.uniqBy=function(e,t){return e&&e.length?ui(e,oo(t,2)):[]},kn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ui(e,i,t):[]},kn.unset=function(e,t){return null==e||ai(e,t)},kn.unzip=rs,kn.unzipWith=is,kn.update=function(e,t,n){return null==e?e:fi(e,t,gi(n))},kn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:fi(e,t,gi(n),r)},kn.values=Du,kn.valuesIn=function(e){return null==e?[]:Yt(e,Tu(e))},kn.without=os,kn.words=Yu,kn.wrap=function(e,t){return Ls(gi(t),e)},kn.xor=ss,kn.xorBy=us,kn.xorWith=as,kn.zip=fs,kn.zipObject=function(e,t){return di(e||[],t||[],Qn)},kn.zipObjectDeep=function(e,t){return di(e||[],t||[],Yr)},kn.zipWith=cs,kn.entries=Mu,kn.entriesIn=ku,kn.extend=vu,kn.extendWith=_u,sa(kn,kn),kn.add=ba,kn.attempt=Gu,kn.camelCase=Pu,kn.capitalize=Fu,kn.ceil=ma,kn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=gu(n))==n?n:0),t!==i&&(t=(t=gu(t))==t?t:0),or(gu(e),t,n)},kn.clone=function(e){return sr(e,4)},kn.cloneDeep=function(e){return sr(e,5)},kn.cloneDeepWith=function(e,t){return sr(e,5,t="function"==typeof t?t:i)},kn.cloneWith=function(e,t){return sr(e,4,t="function"==typeof t?t:i)},kn.conformsTo=function(e,t){return null==t||ur(e,t,Iu(t))},kn.deburr=Hu,kn.defaultTo=function(e,t){return null==e||e!=e?t:e},kn.divide=va,kn.endsWith=function(e,t,n){e=bu(e),t=si(t);var r=e.length,o=n=n===i?r:or(du(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},kn.eq=Ds,kn.escape=function(e){return(e=bu(e))&&K.test(e)?e.replace(W,tn):e},kn.escapeRegExp=function(e){return(e=bu(e))&&ne.test(e)?e.replace(te,"\\$&"):e},kn.every=function(e,t,n){var r=zs(e)?Nt:hr;return n&&bo(e,t,n)&&(t=i),r(e,oo(t,3))},kn.find=gs,kn.findIndex=Ho,kn.findKey=function(e,t){return Mt(e,oo(t,3),mr)},kn.findLast=ys,kn.findLastIndex=zo,kn.findLastKey=function(e,t){return Mt(e,oo(t,3),vr)},kn.floor=_a,kn.forEach=bs,kn.forEachRight=ms,kn.forIn=function(e,t){return null==e?e:yr(e,oo(t,3),Tu)},kn.forInRight=function(e,t){return null==e?e:br(e,oo(t,3),Tu)},kn.forOwn=function(e,t){return e&&mr(e,oo(t,3))},kn.forOwnRight=function(e,t){return e&&vr(e,oo(t,3))},kn.get=Eu,kn.gt=Ps,kn.gte=Fs,kn.has=function(e,t){return null!=e&&ho(e,t,Er)},kn.hasIn=Bu,kn.head=Jo,kn.identity=na,kn.includes=function(e,t,n,r){e=Js(e)?e:Du(e),n=n&&!r?du(n):0;var i=e.length;return n<0&&(n=yn(i+n,0)),su(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Dt(e,t,n)>-1},kn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:du(n);return i<0&&(i=yn(r+i,0)),Dt(e,t,i)},kn.inRange=function(e,t,n){return t=hu(t),n===i?(n=t,t=0):n=hu(n),function(e,t,n){return e>=bn(t,n)&&e<yn(t,n)}(e=gu(e),t,n)},kn.invoke=Au,kn.isArguments=Hs,kn.isArray=zs,kn.isArrayBuffer=qs,kn.isArrayLike=Js,kn.isArrayLikeObject=Ws,kn.isBoolean=function(e){return!0===e||!1===e||eu(e)&&Or(e)==b},kn.isBuffer=Vs,kn.isDate=Ks,kn.isElement=function(e){return eu(e)&&1===e.nodeType&&!ru(e)},kn.isEmpty=function(e){if(null==e)return!0;if(Js(e)&&(zs(e)||"string"==typeof e||"function"==typeof e.splice||Vs(e)||au(e)||Hs(e)))return!e.length;var t=lo(e);if(t==S||t==N)return!e.size;if(wo(e))return!Rr(e).length;for(var n in e)if($e.call(e,n))return!1;return!0},kn.isEqual=function(e,t){return Ir(e,t)},kn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Ir(e,t,i,n):!!r},kn.isError=Zs,kn.isFinite=function(e){return"number"==typeof e&&Lt(e)},kn.isFunction=Ys,kn.isInteger=Gs,kn.isLength=Xs,kn.isMap=tu,kn.isMatch=function(e,t){return e===t||Tr(e,t,uo(t))},kn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Tr(e,t,uo(t),n)},kn.isNaN=function(e){return nu(e)&&e!=+e},kn.isNative=function(e){if(_o(e))throw new we("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ur(e)},kn.isNil=function(e){return null==e},kn.isNull=function(e){return null===e},kn.isNumber=nu,kn.isObject=Qs,kn.isObjectLike=eu,kn.isPlainObject=ru,kn.isRegExp=iu,kn.isSafeInteger=function(e){return Gs(e)&&e>=-9007199254740991&&e<=l},kn.isSet=ou,kn.isString=su,kn.isSymbol=uu,kn.isTypedArray=au,kn.isUndefined=function(e){return e===i},kn.isWeakMap=function(e){return eu(e)&&lo(e)==I},kn.isWeakSet=function(e){return eu(e)&&"[object WeakSet]"==Or(e)},kn.join=function(e,t){return null==e?"":qt.call(e,t)},kn.kebabCase=zu,kn.last=Zo,kn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=du(n))<0?yn(r+o,0):bn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):kt(e,Ft,o,!0)},kn.lowerCase=qu,kn.lowerFirst=Ju,kn.lt=fu,kn.lte=cu,kn.max=function(e){return e&&e.length?dr(e,na,xr):i},kn.maxBy=function(e,t){return e&&e.length?dr(e,oo(t,2),xr):i},kn.mean=function(e){return Ht(e,na)},kn.meanBy=function(e,t){return Ht(e,oo(t,2))},kn.min=function(e){return e&&e.length?dr(e,na,Cr):i},kn.minBy=function(e,t){return e&&e.length?dr(e,oo(t,2),Cr):i},kn.stubArray=pa,kn.stubFalse=ga,kn.stubObject=function(){return{}},kn.stubString=function(){return""},kn.stubTrue=function(){return!0},kn.multiply=wa,kn.nth=function(e,t){return e&&e.length?Pr(e,du(t)):i},kn.noConflict=function(){return lt._===this&&(lt._=ke),this},kn.noop=ua,kn.now=Es,kn.pad=function(e,t,n){e=bu(e);var r=(t=du(t))?cn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Fi(dt(i),n)+e+Fi(ht(i),n)},kn.padEnd=function(e,t,n){e=bu(e);var r=(t=du(t))?cn(e):0;return t&&r<t?e+Fi(t-r,n):e},kn.padStart=function(e,t,n){e=bu(e);var r=(t=du(t))?cn(e):0;return t&&r<t?Fi(t-r,n)+e:e},kn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),vn(bu(e).replace(re,""),t||0)},kn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&bo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=hu(e),t===i?(t=e,e=0):t=hu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=_n();return bn(e+o*(t-e+ut("1e-"+((o+"").length-1))),t)}return Jr(e,t)},kn.reduce=function(e,t,n){var r=zs(e)?$t:Jt,i=arguments.length<3;return r(e,oo(t,4),n,i,cr)},kn.reduceRight=function(e,t,n){var r=zs(e)?Rt:Jt,i=arguments.length<3;return r(e,oo(t,4),n,i,lr)},kn.repeat=function(e,t,n){return t=(n?bo(e,t,n):t===i)?1:du(t),Wr(bu(e),t)},kn.replace=function(){var e=arguments,t=bu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},kn.result=function(e,t,n){var r=-1,o=(t=yi(t,e)).length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[Lo(t[r])];s===i&&(r=o,s=n),e=Ys(s)?s.call(e):s}return e},kn.round=Sa,kn.runInContext=e,kn.sample=function(e){return(zs(e)?Zn:Kr)(e)},kn.size=function(e){if(null==e)return 0;if(Js(e))return su(e)?cn(e):e.length;var t=lo(e);return t==S||t==N?e.size:Rr(e).length},kn.snakeCase=Wu,kn.some=function(e,t,n){var r=zs(e)?Ct:ti;return n&&bo(e,t,n)&&(t=i),r(e,oo(t,3))},kn.sortedIndex=function(e,t){return ni(e,t)},kn.sortedIndexBy=function(e,t,n){return ri(e,t,oo(n,2))},kn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ni(e,t);if(r<n&&Ds(e[r],t))return r}return-1},kn.sortedLastIndex=function(e,t){return ni(e,t,!0)},kn.sortedLastIndexBy=function(e,t,n){return ri(e,t,oo(n,2),!0)},kn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ni(e,t,!0)-1;if(Ds(e[n],t))return n}return-1},kn.startCase=Vu,kn.startsWith=function(e,t,n){return e=bu(e),n=null==n?0:or(du(n),0,e.length),t=si(t),e.slice(n,n+t.length)==t},kn.subtract=Oa,kn.sum=function(e){return e&&e.length?Wt(e,na):0},kn.sumBy=function(e,t){return e&&e.length?Wt(e,oo(t,2)):0},kn.template=function(e,t,n){var r=kn.templateSettings;n&&bo(e,t,n)&&(t=i),e=bu(e),t=_u({},t,r,Zi);var o,s,u=_u({},t.imports,r.imports,Zi),a=Iu(u),f=Yt(u,a),c=0,l=t.interpolate||ve,h="__p += '",d=Ee((t.escape||ve).source+"|"+l.source+"|"+(l===G?le:ve).source+"|"+(t.evaluate||ve).source+"|$","g"),p="//# sourceURL="+($e.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(d,(function(t,n,r,i,u,a){return r||(r=i),h+=e.slice(c,a).replace(_e,nn),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),u&&(s=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=a+t.length,t})),h+="';\n";var g=$e.call(t,"variable")&&t.variable;if(g){if(fe.test(g))throw new we("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(H,""):h).replace(z,"$1").replace(q,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=Gu((function(){return Se(a,p+"return "+h).apply(i,f)}));if(y.source=h,Zs(y))throw y;return y},kn.times=function(e,t){if((e=du(e))<1||e>l)return[];var n=d,r=bn(e,d);t=oo(t),e-=d;for(var i=Vt(r,t);++n<e;)t(n);return i},kn.toFinite=hu,kn.toInteger=du,kn.toLength=pu,kn.toLower=function(e){return bu(e).toLowerCase()},kn.toNumber=gu,kn.toSafeInteger=function(e){return e?or(du(e),-9007199254740991,l):0===e?e:0},kn.toString=bu,kn.toUpper=function(e){return bu(e).toUpperCase()},kn.trim=function(e,t,n){if((e=bu(e))&&(n||t===i))return Kt(e);if(!e||!(t=si(t)))return e;var r=ln(e),o=ln(t);return mi(r,Xt(r,o),Qt(r,o)+1).join("")},kn.trimEnd=function(e,t,n){if((e=bu(e))&&(n||t===i))return e.slice(0,hn(e)+1);if(!e||!(t=si(t)))return e;var r=ln(e);return mi(r,0,Qt(r,ln(t))+1).join("")},kn.trimStart=function(e,t,n){if((e=bu(e))&&(n||t===i))return e.replace(re,"");if(!e||!(t=si(t)))return e;var r=ln(e);return mi(r,Xt(r,ln(t))).join("")},kn.truncate=function(e,t){var n=30,r="...";if(Qs(t)){var o="separator"in t?t.separator:o;n="length"in t?du(t.length):n,r="omission"in t?si(t.omission):r}var s=(e=bu(e)).length;if(rn(e)){var u=ln(e);s=u.length}if(n>=s)return e;var a=n-cn(r);if(a<1)return r;var f=u?mi(u,0,a).join(""):e.slice(0,a);if(o===i)return f+r;if(u&&(a+=f.length-a),iu(o)){if(e.slice(a).search(o)){var c,l=f;for(o.global||(o=Ee(o.source,bu(he.exec(o))+"g")),o.lastIndex=0;c=o.exec(l);)var h=c.index;f=f.slice(0,h===i?a:h)}}else if(e.indexOf(si(o),a)!=a){var d=f.lastIndexOf(o);d>-1&&(f=f.slice(0,d))}return f+r},kn.unescape=function(e){return(e=bu(e))&&V.test(e)?e.replace(J,dn):e},kn.uniqueId=function(e){var t=++Re;return bu(e)+t},kn.upperCase=Ku,kn.upperFirst=Zu,kn.each=bs,kn.eachRight=ms,kn.first=Jo,sa(kn,(ya={},mr(kn,(function(e,t){$e.call(kn.prototype,t)||(ya[t]=e)})),ya),{chain:!1}),kn.VERSION="4.17.21",Et(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){kn[e].placeholder=kn})),Et(["drop","take"],(function(e,t){Hn.prototype[e]=function(n){n=n===i?1:yn(du(n),0);var r=this.__filtered__&&!t?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,d),type:e+(r.__dir__<0?"Right":"")}),r},Hn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Et(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:oo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Et(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}})),Et(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(na)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=Vr((function(e,t){return"function"==typeof e?new Hn(this):this.map((function(n){return jr(n,e,t)}))})),Hn.prototype.reject=function(e){return this.filter(Rs(oo(e)))},Hn.prototype.slice=function(e,t){e=du(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Hn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=du(t))<0?n.dropRight(-t):n.take(t-e)),n)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(d)},mr(Hn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=kn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(kn.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,a=t instanceof Hn,f=u[0],c=a||zs(t),l=function(e){var t=o.apply(kn,Ut([e],u));return r&&h?t[0]:t};c&&n&&"function"==typeof f&&1!=f.length&&(a=c=!1);var h=this.__chain__,d=!!this.__actions__.length,p=s&&!h,g=a&&!d;if(!s&&c){t=g?t:new Hn(this);var y=e.apply(t,u);return y.__actions__.push({func:hs,args:[l],thisArg:i}),new Fn(y,h)}return p&&g?e.apply(this,u):(y=this.thru(l),p?r?y.value()[0]:y.value():y)})})),Et(["pop","push","shift","sort","splice","unshift"],(function(e){var t=je[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);kn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(zs(i)?i:[],e)}return this[n]((function(n){return t.apply(zs(n)?n:[],e)}))}})),mr(Hn.prototype,(function(e,t){var n=kn[t];if(n){var r=n.name+"";$e.call(An,r)||(An[r]=[]),An[r].push({name:t,func:n})}})),An[Mi(i,2).name]=[{name:"wrapper",func:i}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=Bi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Bi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Bi(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=zs(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=bn(t,e+s);break;case"takeRight":e=yn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,u=o.end,a=u-s,f=r?u:s-1,c=this.__iteratees__,l=c.length,h=0,d=bn(a,this.__takeCount__);if(!n||!r&&i==a&&d==a)return li(e,this.__actions__);var p=[];e:for(;a--&&h<d;){for(var g=-1,y=e[f+=t];++g<l;){var b=c[g],m=b.iteratee,v=b.type,_=m(y);if(2==v)y=_;else if(!_){if(1==v)continue e;break e}}p[h++]=y}return p},kn.prototype.at=ds,kn.prototype.chain=function(){return ls(this)},kn.prototype.commit=function(){return new Fn(this.value(),this.__chain__)},kn.prototype.next=function(){this.__values__===i&&(this.__values__=lu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},kn.prototype.plant=function(e){for(var t,n=this;n instanceof Pn;){var r=ko(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},kn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hn){var t=e;return this.__actions__.length&&(t=new Hn(this)),(t=t.reverse()).__actions__.push({func:hs,args:[Qo],thisArg:i}),new Fn(t,this.__chain__)}return this.thru(Qo)},kn.prototype.toJSON=kn.prototype.valueOf=kn.prototype.value=function(){return li(this.__wrapped__,this.__actions__)},kn.prototype.first=kn.prototype.head,Ze&&(kn.prototype[Ze]=function(){return this}),kn}();lt._=pn,(r=function(){return pn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},857:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(604),i=n(198),o=n(378),s=n(666);t.default=class{async render(e){if(this.iframe)throw new Error(this.ERRORS.IFRAME);const t=this._configureEmbedRoot((0,i.createElement)("div",{style:{position:"relative",overflow:"hidden",minHeight:Boolean(this.options.height)?0:"15px",width:(0,s.parseCSSMeasurement)(this.options.width)||"100%",height:(0,s.parseCSSMeasurement)(this.options.height)||"100%"}})),n=this._configureHost(r.Chatty.createHost(this.getEmbedUrl()).withDefaultTimeout(6e5).withSandboxAttribute("allow-scripts").withSandboxAttribute("allow-same-origin").withSandboxAttribute("allow-popups").withSandboxAttribute("allow-popups-to-escape-sandbox").appendTo(t)).build();for(n.iframe.setAttribute("aria-label",this.name),Object.assign(n.iframe.style,{position:"absolute",top:0,left:0,border:0,width:"100%",height:"100%"});e.firstChild;)e.removeChild(e.firstChild);e.appendChild(t),this.connection=await n.connect(),this.iframe=n.iframe,this._setBackground(this.options.background,this.options.theme),await this._retrieveAndSetToken()}async isAutoRefresh(){const[e]=await this._send("get","autoRefresh");return"number"==typeof e||"boolean"==typeof e?Boolean(e):Promise.reject("unexpected response received from iframe")}async setAutoRefresh(e){if("boolean"!=typeof e)return Promise.reject("autoRefresh property value should be a boolean");await this._send("set","autoRefresh",e)}async getMaxDataAge(){const[e]=await this._send("get","maxDataAge");return"number"==typeof e?e:Promise.reject("unexpected response received from iframe")}async setMaxDataAge(e){if("number"!=typeof e)return Promise.reject("maxDataAge property value should be a number");await this._send("set","maxDataAge",e)}async setTheme(e){if("string"!=typeof e)return Promise.reject("theme property value should be a string");const t=Object.values(o.THEME).includes(e)?e:o.THEME.LIGHT;await this._send("set","theme",t),this._setBackground(this.options.background,t)}async getTheme(){const[e]=await this._send("get","theme");return"string"==typeof e?e:Promise.reject("unexpected response received from iframe")}_configureHost(e){return e.on("refreshToken",(()=>this._retrieveAndSetToken()))}_configureEmbedRoot(e){return e}_setBackground(e,t){this.iframe.style.backgroundColor=(0,s.getBackground)(e,t,this.COLOUR.LIGHT,this.COLOUR.DARK)}async _retrieveAndSetToken(){if(this.options.getUserToken){const e=await this.options.getUserToken();await this._send("set","token",e)}}_send(e,...t){return this.connection?this.connection.sendAndReceive(e,...t):Promise.reject(this.ERRORS.SEND)}async getImage(e){const{encoding:t}=e||{};if(t!==o.ENCODING.BASE64&&t!==o.ENCODING.BINARY)return Promise.reject('Encoding must be either "base64" or "binary"');const[n]=await this._send("get","image",{background:this.options.background,encoding:t});return"string"==typeof n||n instanceof Blob?n:Promise.reject("unexpected response received from iframe")}}},325:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(857)),o=n(182),s=n(44),u=n(797),a=n(866),f=n(666);class c extends i.default{constructor(e){super(),this.name="Embedded Chart",this.ERRORS={SEND:"Chart has not been rendered. Ensure that you wait for the promise returned by `chart.render()` before trying to manipulate a chart.",IFRAME:"A chart can only be rendered into a container once"},this.COLOUR={LIGHT:"#FFFFFF",DARK:"#21313C"},this.options=(e=>{if("object"!=typeof e||null===e)throw new Error("Options argument must be an object");const t=(0,f.getSharedEmbedOptions)(e),{chartId:n,refreshInterval:r,renderingSpec:i}=e;if("string"!=typeof n||0===n.length)throw new Error("chartId must be specified");if(void 0!==r&&"number"!=typeof r)throw new Error("refreshInterval interval must be a number if specified");if(void 0!==i&&!(0,f.isPlainObject)(i))throw new Error("renderingSpec must be an object if specified");if(void 0!==i&&!i.version)throw new Error("renderingSpec must contain a version key");return{...t,chartId:n,refreshInterval:r,renderingSpec:i}})(e)}getEmbedUrl(){return(0,f.getChartUrl)(this.options)}}class l extends((0,u.CommonChart)((0,a.Filterable)((0,s.Refreshable)((0,o.EventSource)(c))))){async render(e){await super.render(e);const t=this.options.renderingSpec,n=t?{renderingSpec:t}:{};await this._send("ready",n),n.renderingSpec&&(this.renderingSpec=n.renderingSpec)}async getRefreshInterval(){const[e]=await this._send("get","autorefresh");return console.warn("The 'getRefreshInterval' method is deprecated. Please use the 'autoRefresh' option with the 'maxDataAge' option to configure how often the chart refreshes."),"number"==typeof e?e:Promise.reject("unexpected response received from iframe")}async setRefreshInterval(e){if("number"!=typeof e)return Promise.reject("refreshInterval property value should be a number");console.warn("The 'setRefreshInterval' method is deprecated. Please use the 'autoRefresh' option with the 'maxDataAge' option to configure how often the chart refreshes."),await this._send("set","autorefresh",e)}_configureHost(e){return super._configureHost(e).on("event",this._handleEvent.bind(this))}async setRenderingSpecOverride(e){return(0,f.isPlainObject)(e)?e.version?(await this._send("set","renderingSpec",e),void(this.renderingSpec=e)):Promise.reject('renderingSpec should contain a "version" key'):Promise.reject("renderingSpec property value should be an object")}async getChannels(){const[e]=await this._send("get","channels");return e&&"object"==typeof e?e:Promise.reject("Unexpected response from iframe")}async getCustomizableAxes(){const[e]=await this._send("get","axes");return e&&"object"==typeof e?e:Promise.reject("Unexpected response from iframe")}getRenderingSpecOverride(){return this.renderingSpec}}t.default=l},869:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(182),i=n(44),o=n(797),s=n(866);class u{constructor(e,t){this.chartId=e,this.dashboard=t}_send(e,...t){return this.dashboard._send(e,...t,this.chartId)}}class a extends((0,o.CommonChart)((0,s.Filterable)((0,i.Refreshable)((0,r.EventSource)(u))))){}t.default=a},170:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(857)),o=n(44),s=n(866),u=n(666),a=n(378),f=r(n(869));class c extends i.default{constructor(e){super(),this.name="Embedded Dashboard",this.ERRORS={SEND:"Dashboard has not been rendered. Ensure that you wait for the promise returned by `dashboard.render()` before trying to manipulate a dashboard.",IFRAME:"A dashboard can only be rendered into a container once"},this.COLOUR={LIGHT:"#F1F5F4",DARK:"#12212C"},this.options=(e=>{if("object"!=typeof e||null===e)throw new Error("Options argument must be an object");const t=(0,u.getSharedEmbedOptions)(e),{dashboardId:n,chartsBackground:r,widthMode:i,heightMode:o,showTitleAndDesc:s,charts:f}=e;if("string"!=typeof n||0===n.length)throw new Error("dashboardId must be specified");if(void 0!==r&&"string"!=typeof r)throw new Error("chartsBackground must be a string if specified");if(void 0!==i&&"string"!=typeof i)throw new Error("widthMode must be a string if specified");if(void 0!==i&&i!==a.SCALING.FIXED&&i!==a.SCALING.SCALE)throw new Error(`widthMode must be "${a.SCALING.FIXED}" or "${a.SCALING.SCALE}"`);if(void 0!==o&&"string"!=typeof o)throw new Error("heightMode must be a string if specified");if(void 0!==o&&o!==a.SCALING.FIXED&&o!==a.SCALING.SCALE)throw new Error(`heightMode must be "${a.SCALING.FIXED}" or "${a.SCALING.SCALE}"`);if(void 0!==s&&"boolean"!=typeof s)throw new Error("showTitleAndDesc must be a boolean value if specified");if(void 0!==f&&!Array.isArray(f))throw new Error("charts embedding option must be an array if specified");if(void 0!==f){const e={};if(f.forEach((t=>e[t.chartId]=e.chartId)),Object.keys(e).length!==f.length)throw new Error("charts embedding option must contain unique chartIds")}return{...t,dashboardId:n,chartsBackground:r,widthMode:i,heightMode:o,showTitleAndDesc:s,charts:f}})(e)}getEmbedUrl(){return(0,u.getDashboardUrl)(this.options)}}class l extends((0,s.Filterable)((0,o.Refreshable)(c))){constructor(){super(...arguments),this.charts={}}async render(e){await super.render(e),await this._send("ready",this.options.charts)}async getChartsBackground(){const[e]=await this._send("get","chartsBackground");return"string"==typeof e?e:Promise.reject("unexpected response received from iframe")}async setChartsBackground(e){if("string"!=typeof e)return Promise.reject("chartsBackground property value should be a string");await this._send("set","chartsBackground",e)}async isShowAttribution(){const[e]=await this._send("get","attribution");return"boolean"==typeof e?Boolean(e):Promise.reject("unexpected response received from iframe")}async setShowAttribution(e){if("boolean"!=typeof e)return Promise.reject("showAttribution property value should be a boolean");await this._send("set","attribution",e)}async getWidthMode(){const[e]=await this._send("get","scalingWidth");return e===a.SCALING.FIXED||e===a.SCALING.SCALE?e:Promise.reject("unexpected response received from iframe")}async setWidthMode(e){if(!["fixed","scale"].includes(e))return Promise.reject('widthMode property value should be a string value of "fixed" or "scale"');await this._send("set","scalingWidth",e)}async getHeightMode(){const[e]=await this._send("get","scalingHeight");return"fixed"===e||"scale"===e?e:Promise.reject("unexpected response received from iframe")}async setHeightMode(e){if(!["fixed","scale"].includes(e))return Promise.reject('heightMode property value should be a string value of "fixed" or "scale"');await this._send("set","scalingHeight",e)}async getChart(e){if(!this.charts[e]){const[t]=await this._send("get","charts",[e]);if(!Array.isArray(t))return Promise.reject("unexpected response received from iframe");if(1!==t.length)return Promise.reject("Invalid chart id: "+e);this.charts[e]=new f.default(e,this)}return this.charts[e]}async getAllCharts(){const[e]=await this._send("get","charts");if(!Array.isArray(e))return Promise.reject("unexpected response received from iframe");const t=[];return e.forEach((e=>{this.charts[e]||(this.charts[e]=new f.default(e,this)),t.push(this.charts[e])})),t}_configureHost(e){return super._configureHost(e).on("event",((e,t,n)=>{const r=t.chartId;this.charts[r]._handleEvent(e,t,n)}))}}t.default=l},198:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createElement=void 0,t.createElement=function(e,t={},n=[]){const r=document.createElement(e);for(const[e,n]of Object.entries(t))"style"===e?Object.assign(r.style,t.style):r.setAttribute(e,n);for(const e of Array.isArray(n)?n:[n])r.append(e);return r}},939:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(97));class u extends s.default{}u.getRealmUserToken=s.getRealmUserToken,t.default=u},97:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getRealmUserToken=void 0;const i=r(n(325)),o=r(n(170)),s=n(166);Object.defineProperty(t,"getRealmUserToken",{enumerable:!0,get:function(){return s.getRealmUserToken}}),t.default=class{constructor(e){this.defaultOptions=e}createChart(e){return new i.default({...this.defaultOptions,...e})}createDashboard(e){return new o.default({...this.defaultOptions,...e})}}},797:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommonChart=void 0;const r=n(273),i=n(666);t.CommonChart=function(e){return class extends e{async setHighlight(e){if(!(0,i.isPlainObject)(e))return Promise.reject("highlight property value should be an object");await this._send("set","highlight",r.EJSON.stringify(e,{relaxed:!1}))}async getHighlight(){const[e]=await this._send("get","highlight");return(0,i.isPlainObject)(e)?e:Promise.reject("unexpected response received from iframe")}async getData(){const[e]=await this._send("get","data");return"object"==typeof e&&null!==e?e:Promise.reject("unexpected response received from iframe")}}}},182:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventSource=void 0;const r=n(635);let i=Date.now();t.EventSource=function(e){return class extends e{constructor(){super(...arguments),this._eventHandlers={click:{}}}_handleEvent(e,t,n){const r=this._eventHandlers[e];for(const i of n)try{r[i]?.handle(t)}catch(t){console.warn(`Error calling handler for event [${e}]: ${t}`)}}addEventListener(e,t,n){const o=this._eventHandlers[e];if(!o)throw new Error(`Not supported event: ${e}`);const s={handle:t,options:{includes:n?.includes}};if(s.options.includes?.every((e=>(0,r.isEmpty)(e)))&&console.warn("Empty includes filters out all events. Event handler will never be called. Is this intended?"),!Object.keys(o).some((e=>(0,r.isEqual)(o[e],s)))){const t=(++i).toString(36);return o[t]=s,this._send("eventHandler",e,{handlerId:t,options:s.options})}return Promise.resolve()}removeEventListener(e,t,n){const i=this._eventHandlers[e];if(!i)throw new Error(`Not supported event: ${e}`);const o={handle:t,options:{includes:n?.includes}},s=Object.keys(i).find((e=>(0,r.isEqual)(i[e],o)));return s?(delete i[s],this._send("eventHandler",e,{handlerId:s})):Promise.resolve()}}}},866:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Filterable=void 0;const r=n(273),i=n(666);t.Filterable=function(e){return class extends e{async setPreFilter(e){if(!(0,i.isPlainObject)(e))return Promise.reject("filter property value should be an object");await this._send("set","preFilter",r.EJSON.stringify(e,{relaxed:!1}))}async getPreFilter(){const[e]=await this._send("get","preFilter");return(0,i.isPlainObject)(e)?e:Promise.reject("unexpected response received from iframe")}async setFilter(e){if(!(0,i.isPlainObject)(e))return Promise.reject("filter property value should be an object");await this._send("set","filter",r.EJSON.stringify(e,{relaxed:!1}))}async getFilter(){const[e]=await this._send("get","filter");return(0,i.isPlainObject)(e)?e:Promise.reject("unexpected response received from iframe")}}}},44:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Refreshable=void 0,t.Refreshable=function(e){return class extends e{async refresh(){await this._send("refresh")}}}},166:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRealmUserToken=void 0;const n=e=>{try{const[t,n,r]=e.split("."),{exp:i}=JSON.parse(atob(n));return Date.now()/1e3>=i-300}catch(e){throw new Error("Not a vaid JWT token. Is the StitchClient/RealmClient configured correctly?")}};t.getRealmUserToken=async function(e){let t;if("auth"in e){const r=e;if(!r.auth.authInfo)throw new Error("Unfamiliar Stitch client version");if(!r.auth.isLoggedIn)throw new Error("Could not find a logged-in StitchUser. Is the StitchClient configured correctly?");if(!r.auth.authInfo.accessToken)throw new Error("Could not find a valid JWT. Is the StitchClient configured correctly?");if(n(r.auth.authInfo.accessToken))if(r.auth.refreshCustomData)await r.auth.refreshCustomData();else{if(!r.auth.refreshAccessToken)throw new Error("Could not refresh token. Unfamiliar Stitch client version");await r.auth.refreshAccessToken()}t=r.auth.authInfo.accessToken}else{if(!("authenticator"in e))throw new Error("Unfamiliar Stitch or Realm client version");{const r=e;if(!r.currentUser)throw new Error("Unfamiliar Realm client version");if(!r.currentUser.isLoggedIn)throw new Error("Could not find a logged-in RealmUser. Is the RealmClient configured correctly?");if(!r.currentUser.accessToken)throw new Error("Could not find a valid JWT. Is the RealmClient configured correctly?");if(n(r.currentUser.accessToken)){if(!r.currentUser.refreshCustomData)throw new Error("Could not refresh token. Unfamiliar Realm client version");await r.currentUser.refreshCustomData()}t=r.currentUser.accessToken}}return t}},378:(e,t)=>{"use strict";var n,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.ENCODING=t.SCALING=t.THEME=void 0,function(e){e.DARK="dark",e.LIGHT="light"}(n||(t.THEME=n={})),function(e){e.FIXED="fixed",e.SCALE="scale"}(r||(t.SCALING=r={})),function(e){e.BASE64="base64",e.BINARY="binary"}(i||(t.ENCODING=i={}))},666:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBackground=t.parseCSSMeasurement=t.getDashboardUrl=t.getChartUrl=t.getPathname=t.getSharedEmbedOptions=t.isPlainObject=t.SDK_PROTOCOL_DASHBOARD=t.SDK_PROTOCOL_CHART=void 0;const r=n(273);t.SDK_PROTOCOL_CHART="3",t.SDK_PROTOCOL_DASHBOARD="3",t.isPlainObject=e=>"object"==typeof e&&null!==e&&!Array.isArray(e),t.getSharedEmbedOptions=e=>{const{background:n,baseUrl:r,autoRefresh:i,maxDataAge:o,width:s,height:u,theme:a,showAttribution:f,getUserToken:c,filter:l,preFilter:h}=e;if("string"!=typeof r||0===r.length)throw new Error("Base URL must be a valid URL");if(void 0!==n&&"string"!=typeof n)throw new Error("background must be a string if specified");if(void 0!==i&&"boolean"!=typeof i)throw new Error("autoRefresh must be a boolean if specified");if(void 0!==o&&"number"!=typeof o)throw new Error("maxDataAge must be a number if specified");if(void 0!==s&&!["number","string"].includes(typeof s))throw new Error("Width must be a string or number if specified");if(void 0!==u&&!["number","string"].includes(typeof u))throw new Error("Height must be a string or number if specified");if(void 0!==a&&"string"!=typeof a)throw new Error("Theme must be a string if specified");if(void 0!==f&&"boolean"!=typeof f)throw new Error("Attribution must be a boolean value if specified");if(void 0!==c&&"function"!=typeof c)throw new Error("getUserToken must be a function");if(void 0!==l&&!(0,t.isPlainObject)(l))throw new Error("Filter must be an object if specified");if(void 0!==h&&!(0,t.isPlainObject)(h))throw new Error("Pre-filter must be an object if specified");return{background:n,baseUrl:r,autoRefresh:i,maxDataAge:o,width:s,height:u,theme:a,showAttribution:f,getUserToken:c,filter:l,preFilter:h}},t.getPathname=(e,t)=>[e.pathname,"/"===e.pathname.slice(-1)?"":"/",t].join(""),t.getChartUrl=e=>{try{const n=new URL(e.baseUrl);return n.pathname=(0,t.getPathname)(n,"embed/charts"),n.search=`id=${e.chartId}&sdk=${t.SDK_PROTOCOL_CHART}`,!1===e.autoRefresh?n.search+="&autorefresh=false":void 0===e.autoRefresh&&(n.search+=e.refreshInterval?`&autorefresh=${e.refreshInterval}`:""),void 0!==e.maxDataAge&&(n.search+=`&maxDataAge=${e.maxDataAge}`),e.filter&&(n.search+=`&filter=${encodeURIComponent(r.EJSON.stringify(e.filter,{relaxed:!1}))}`),e.preFilter&&(n.search+=`&preFilter=${encodeURIComponent(r.EJSON.stringify(e.preFilter,{relaxed:!1}))}`),e.theme&&(n.search+=`&theme=${e.theme}`),!1===e.showAttribution&&(n.search+="&attribution=false"),n.toString()}catch(e){throw new Error("Base URL must be a valid URL")}},t.getDashboardUrl=e=>{try{const n=new URL(e.baseUrl);return n.pathname=(0,t.getPathname)(n,"embed/dashboards"),n.search=`id=${e.dashboardId}&sdk=${t.SDK_PROTOCOL_DASHBOARD}`,!1===e.autoRefresh&&(n.search+="&autoRefresh=false"),void 0!==e.maxDataAge&&(n.search+=`&maxDataAge=${e.maxDataAge}`),!0===e.showTitleAndDesc&&(n.search+="&showTitleAndDesc=true"),e.widthMode&&(n.search+=`&scalingWidth=${e.widthMode}`),e.heightMode&&(n.search+=`&scalingHeight=${e.heightMode}`),e.theme&&(n.search+=`&theme=${e.theme}`),e.chartsBackground&&(n.search+=`&chartsBackground=${e.chartsBackground}`),e.background&&(n.search+=`&background=${e.background}`),!1===e.showAttribution&&(n.search+="&attribution=false"),e.filter&&(n.search+=`&filter=${encodeURIComponent(r.EJSON.stringify(e.filter,{relaxed:!1}))}`),e.preFilter&&(n.search+=`&preFilter=${encodeURIComponent(r.EJSON.stringify(e.preFilter,{relaxed:!1}))}`),n.toString()}catch(e){throw new Error("Base URL must be a valid URL")}},t.parseCSSMeasurement=e=>"string"==typeof e?e:"number"==typeof e?`${e}px`:null,t.getBackground=(e,t,n,r)=>"string"==typeof e&&e.length>0?e:"dark"===t?r:n},8:()=>{},273:(e,t,n)=>{"use strict";function r(e){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(e))}function i(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)}function o(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function s(e){return"[object Map]"===Object.prototype.toString.call(e)}function u(e){return"[object Date]"===Object.prototype.toString.call(e)}Object.defineProperty(t,"__esModule",{value:!0});const a=5,f=2147483647,c=-2147483648,l=Math.pow(2,63)-1,h=-Math.pow(2,63),d=Math.pow(2,53),p=-Math.pow(2,53),g=1,y=2,b=3,m=4,v=5,_=6,w=7,S=8,O=9,x=10,E=11,B=12,N=13,j=14,A=15,I=16,T=17,U=18,$=19,R=255,C=127,L=0,M=4,k=Object.freeze({double:1,string:2,object:3,array:4,binData:5,undefined:6,objectId:7,bool:8,date:9,null:10,regex:11,dbPointer:12,javascript:13,symbol:14,javascriptWithScope:15,int:16,timestamp:17,long:18,decimal:19,minKey:-1,maxKey:127});class D extends Error{get bsonError(){return!0}get name(){return"BSONError"}constructor(e){super(e)}static isBSONError(e){return null!=e&&"object"==typeof e&&"bsonError"in e&&!0===e.bsonError&&"name"in e&&"message"in e&&"stack"in e}}class P extends D{get name(){return"BSONVersionError"}constructor(){super(`Unsupported BSON version, bson types must be from bson ${a}.0 or later`)}}class F extends D{get name(){return"BSONRuntimeError"}constructor(e){super(e)}}function H(e){return z.fromNumberArray(Array.from({length:e},(()=>Math.floor(256*Math.random()))))}const z={toLocalBufferType(e){if(Buffer.isBuffer(e))return e;if(ArrayBuffer.isView(e))return Buffer.from(e.buffer,e.byteOffset,e.byteLength);const t=e?.[Symbol.toStringTag]??Object.prototype.toString.call(e);if("ArrayBuffer"===t||"SharedArrayBuffer"===t||"[object ArrayBuffer]"===t||"[object SharedArrayBuffer]"===t)return Buffer.from(e);throw new D(`Cannot create Buffer from ${String(e)}`)},allocate:e=>Buffer.alloc(e),equals:(e,t)=>z.toLocalBufferType(e).equals(t),fromNumberArray:e=>Buffer.from(e),fromBase64:e=>Buffer.from(e,"base64"),toBase64:e=>z.toLocalBufferType(e).toString("base64"),fromISO88591:e=>Buffer.from(e,"binary"),toISO88591:e=>z.toLocalBufferType(e).toString("binary"),fromHex:e=>Buffer.from(e,"hex"),toHex:e=>z.toLocalBufferType(e).toString("hex"),fromUTF8:e=>Buffer.from(e,"utf8"),toUTF8:(e,t,n)=>z.toLocalBufferType(e).toString("utf8",t,n),utf8ByteLength:e=>Buffer.byteLength(e,"utf8"),encodeUTF8Into:(e,t,n)=>z.toLocalBufferType(e).write(t,n,void 0,"utf8"),randomBytes:(()=>{try{return n(8).randomBytes}catch{return H}})()};function q(e){if(e<0)throw new RangeError(`The argument 'byteLength' is invalid. Received ${e}`);return V.fromNumberArray(Array.from({length:e},(()=>Math.floor(256*Math.random()))))}const J=(()=>{const{crypto:e}=globalThis;if(null!=e&&"function"==typeof e.getRandomValues)return t=>e.getRandomValues(V.allocate(t));if(function(){const{navigator:e}=globalThis;return"object"==typeof e&&"ReactNative"===e.product}()){const{console:e}=globalThis;e?.warn?.("BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.")}return q})(),W=/(\d|[a-f])/i,V={toLocalBufferType(e){const t=e?.[Symbol.toStringTag]??Object.prototype.toString.call(e);if("Uint8Array"===t)return e;if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength));if("ArrayBuffer"===t||"SharedArrayBuffer"===t||"[object ArrayBuffer]"===t||"[object SharedArrayBuffer]"===t)return new Uint8Array(e);throw new D(`Cannot make a Uint8Array from ${String(e)}`)},allocate(e){if("number"!=typeof e)throw new TypeError(`The "size" argument must be of type number. Received ${String(e)}`);return new Uint8Array(e)},equals(e,t){if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0},fromNumberArray:e=>Uint8Array.from(e),fromBase64:e=>Uint8Array.from(atob(e),(e=>e.charCodeAt(0))),toBase64:e=>btoa(V.toISO88591(e)),fromISO88591:e=>Uint8Array.from(e,(e=>255&e.charCodeAt(0))),toISO88591:e=>Array.from(Uint16Array.from(e),(e=>String.fromCharCode(e))).join(""),fromHex(e){const t=e.length%2==0?e:e.slice(0,e.length-1),n=[];for(let e=0;e<t.length;e+=2){const r=t[e],i=t[e+1];if(!W.test(r))break;if(!W.test(i))break;const o=Number.parseInt(`${r}${i}`,16);n.push(o)}return Uint8Array.from(n)},toHex:e=>Array.from(e,(e=>e.toString(16).padStart(2,"0"))).join(""),fromUTF8:e=>(new TextEncoder).encode(e),toUTF8:(e,t,n)=>new TextDecoder("utf8",{fatal:!1}).decode(e.slice(t,n)),utf8ByteLength:e=>V.fromUTF8(e).byteLength,encodeUTF8Into(e,t,n){const r=V.fromUTF8(t);return e.set(r,n),r.byteLength},randomBytes:J},K="function"==typeof Buffer&&!0!==Buffer.prototype?._isBuffer?z:V;class Z extends DataView{static fromUint8Array(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}}class Y{get[Symbol.for("@@mdb.bson.version")](){return a}}class G extends Y{get _bsontype(){return"Binary"}constructor(e,t){if(super(),!(null==e||"string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||Array.isArray(e)))throw new D("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=t??G.BSON_BINARY_SUBTYPE_DEFAULT,null==e?(this.buffer=K.allocate(G.BUFFER_SIZE),this.position=0):("string"==typeof e?this.buffer=K.fromISO88591(e):Array.isArray(e)?this.buffer=K.fromNumberArray(e):this.buffer=K.toLocalBufferType(e),this.position=this.buffer.byteLength)}put(e){if("string"==typeof e&&1!==e.length)throw new D("only accepts single character String");if("number"!=typeof e&&1!==e.length)throw new D("only accepts single character Uint8Array or Array");let t;if(t="string"==typeof e?e.charCodeAt(0):"number"==typeof e?e:e[0],t<0||t>255)throw new D("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.byteLength>this.position)this.buffer[this.position++]=t;else{const e=K.allocate(G.BUFFER_SIZE+this.buffer.length);e.set(this.buffer,0),this.buffer=e,this.buffer[this.position++]=t}}write(e,t){if(t="number"==typeof t?t:this.position,this.buffer.byteLength<t+e.length){const t=K.allocate(this.buffer.byteLength+e.length);t.set(this.buffer,0),this.buffer=t}if(ArrayBuffer.isView(e))this.buffer.set(K.toLocalBufferType(e),t),this.position=t+e.byteLength>this.position?t+e.length:this.position;else if("string"==typeof e){const n=K.fromISO88591(e);this.buffer.set(n,t),this.position=t+e.length>this.position?t+e.length:this.position}}read(e,t){return t=t&&t>0?t:this.position,this.buffer.slice(e,e+t)}value(e){return(e=!!e)&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):K.toISO88591(this.buffer.subarray(0,this.position))}length(){return this.position}toJSON(){return K.toBase64(this.buffer)}toString(e){return"hex"===e?K.toHex(this.buffer):"base64"===e?K.toBase64(this.buffer):K.toUTF8(this.buffer,0,this.buffer.byteLength)}toExtendedJSON(e){e=e||{};const t=K.toBase64(this.buffer),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:t,$type:1===n.length?"0"+n:n}:{$binary:{base64:t,subType:1===n.length?"0"+n:n}}}toUUID(){if(this.sub_type===G.SUBTYPE_UUID)return new ee(this.buffer.slice(0,this.position));throw new D(`Binary sub_type "${this.sub_type}" is not supported for converting to UUID. Only "${G.SUBTYPE_UUID}" is currently supported.`)}static createFromHexString(e,t){return new G(K.fromHex(e),t)}static createFromBase64(e,t){return new G(K.fromBase64(e),t)}static fromExtendedJSON(e,t){let n,r;if(t=t||{},"$binary"in e?t.legacy&&"string"==typeof e.$binary&&"$type"in e?(r=e.$type?parseInt(e.$type,16):0,n=K.fromBase64(e.$binary)):"string"!=typeof e.$binary&&(r=e.$binary.subType?parseInt(e.$binary.subType,16):0,n=K.fromBase64(e.$binary.base64)):"$uuid"in e&&(r=4,n=ee.bytesFromString(e.$uuid)),!n)throw new D(`Unexpected Binary Extended JSON format ${JSON.stringify(e)}`);return r===M?new ee(n):new G(n,r)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`Binary.createFromBase64("${K.toBase64(this.buffer.subarray(0,this.position))}", ${this.sub_type})`}}G.BSON_BINARY_SUBTYPE_DEFAULT=0,G.BUFFER_SIZE=256,G.SUBTYPE_DEFAULT=0,G.SUBTYPE_FUNCTION=1,G.SUBTYPE_BYTE_ARRAY=2,G.SUBTYPE_UUID_OLD=3,G.SUBTYPE_UUID=4,G.SUBTYPE_MD5=5,G.SUBTYPE_ENCRYPTED=6,G.SUBTYPE_COLUMN=7,G.SUBTYPE_USER_DEFINED=128;const X=/^[0-9A-F]{32}$/i,Q=/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i;class ee extends G{constructor(e){let t;if(null==e)t=ee.generate();else if(e instanceof ee)t=K.toLocalBufferType(new Uint8Array(e.buffer));else if(ArrayBuffer.isView(e)&&16===e.byteLength)t=K.toLocalBufferType(e);else{if("string"!=typeof e)throw new D("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");t=ee.bytesFromString(e)}super(t,M)}get id(){return this.buffer}set id(e){this.buffer=e}toHexString(e=!0){return e?[K.toHex(this.buffer.subarray(0,4)),K.toHex(this.buffer.subarray(4,6)),K.toHex(this.buffer.subarray(6,8)),K.toHex(this.buffer.subarray(8,10)),K.toHex(this.buffer.subarray(10,16))].join("-"):K.toHex(this.buffer)}toString(e){return"hex"===e?K.toHex(this.id):"base64"===e?K.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}equals(e){if(!e)return!1;if(e instanceof ee)return K.equals(e.id,this.id);try{return K.equals(new ee(e).id,this.id)}catch{return!1}}toBinary(){return new G(this.id,G.SUBTYPE_UUID)}static generate(){const e=K.randomBytes(16);return e[6]=15&e[6]|64,e[8]=63&e[8]|128,e}static isValid(e){return!!e&&("string"==typeof e?ee.isValidUUIDString(e):i(e)?16===e.byteLength:"Binary"===e._bsontype&&e.sub_type===this.SUBTYPE_UUID&&16===e.buffer.byteLength)}static createFromHexString(e){const t=ee.bytesFromString(e);return new ee(t)}static createFromBase64(e){return new ee(K.fromBase64(e))}static bytesFromString(e){if(!ee.isValidUUIDString(e))throw new D("UUID string representation must be 32 hex digits or canonical hyphenated representation");return K.fromHex(e.replace(/-/g,""))}static isValidUUIDString(e){return X.test(e)||Q.test(e)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new UUID("${this.toHexString()}")`}}ee.cacheHexString=!1;class te extends Y{get _bsontype(){return"Code"}constructor(e,t){super(),this.code=e.toString(),this.scope=t??null}toJSON(){return null!=this.scope?{code:this.code,scope:this.scope}:{code:this.code}}toExtendedJSON(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}static fromExtendedJSON(e){return new te(e.$code,e.$scope)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){const e=this.toJSON();return`new Code("${String(e.code)}"${null!=e.scope?`, ${JSON.stringify(e.scope)}`:""})`}}function ne(e){return null!=e&&"object"==typeof e&&"$id"in e&&null!=e.$id&&"$ref"in e&&"string"==typeof e.$ref&&(!("$db"in e)||"$db"in e&&"string"==typeof e.$db)}class re extends Y{get _bsontype(){return"DBRef"}constructor(e,t,n,r){super();const i=e.split(".");2===i.length&&(n=i.shift(),e=i.shift()),this.collection=e,this.oid=t,this.db=n,this.fields=r||{}}get namespace(){return this.collection}set namespace(e){this.collection=e}toJSON(){const e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e}toExtendedJSON(e){e=e||{};let t={$ref:this.collection,$id:this.oid};return e.legacy||(this.db&&(t.$db=this.db),t=Object.assign(t,this.fields)),t}static fromExtendedJSON(e){const t=Object.assign({},e);return delete t.$ref,delete t.$id,delete t.$db,new re(e.$ref,e.$id,e.$db,t)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){const e=void 0===this.oid||void 0===this.oid.toString?this.oid:this.oid.toString();return`new DBRef("${this.namespace}", new ObjectId("${String(e)}")${this.db?`, "${this.db}"`:""})`}}let ie;try{ie=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}const oe=4294967296,se=0x10000000000000000,ue=se/2,ae={},fe={},ce=/^(\+?0|(\+|-)?[1-9][0-9]*)$/;class le extends Y{get _bsontype(){return"Long"}get __isLong__(){return!0}constructor(e=0,t,n){super(),"bigint"==typeof e?Object.assign(this,le.fromBigInt(e,!!t)):"string"==typeof e?Object.assign(this,le.fromString(e,!!t)):(this.low=0|e,this.high=0|t,this.unsigned=!!n)}static fromBits(e,t,n){return new le(e,t,n)}static fromInt(e,t){let n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=fe[e],r)?r:(n=le.fromBits(e,(0|e)<0?-1:0,!0),i&&(fe[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=ae[e],r)?r:(n=le.fromBits(e,e<0?-1:0,!1),i&&(ae[e]=n),n)}static fromNumber(e,t){if(isNaN(e))return t?le.UZERO:le.ZERO;if(t){if(e<0)return le.UZERO;if(e>=se)return le.MAX_UNSIGNED_VALUE}else{if(e<=-ue)return le.MIN_VALUE;if(e+1>=ue)return le.MAX_VALUE}return e<0?le.fromNumber(-e,t).neg():le.fromBits(e%oe|0,e/oe|0,t)}static fromBigInt(e,t){return le.fromString(e.toString(),t)}static fromString(e,t,n){if(0===e.length)throw new D("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return le.ZERO;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw new D("radix");let r;if((r=e.indexOf("-"))>0)throw new D("interior hyphen");if(0===r)return le.fromString(e.substring(1),t,n).neg();const i=le.fromNumber(Math.pow(n,8));let o=le.ZERO;for(let t=0;t<e.length;t+=8){const r=Math.min(8,e.length-t),s=parseInt(e.substring(t,t+r),n);if(r<8){const e=le.fromNumber(Math.pow(n,r));o=o.mul(e).add(le.fromNumber(s))}else o=o.mul(i),o=o.add(le.fromNumber(s))}return o.unsigned=t,o}static fromBytes(e,t,n){return n?le.fromBytesLE(e,t):le.fromBytesBE(e,t)}static fromBytesLE(e,t){return new le(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)}static fromBytesBE(e,t){return new le(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}static isLong(e){return null!=e&&"object"==typeof e&&"__isLong__"in e&&!0===e.__isLong__}static fromValue(e,t){return"number"==typeof e?le.fromNumber(e,t):"string"==typeof e?le.fromString(e,t):le.fromBits(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}add(e){le.isLong(e)||(e=le.fromValue(e));const t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=e.high>>>16,s=65535&e.high,u=e.low>>>16;let a=0,f=0,c=0,l=0;return l+=i+(65535&e.low),c+=l>>>16,l&=65535,c+=r+u,f+=c>>>16,c&=65535,f+=n+s,a+=f>>>16,f&=65535,a+=t+o,a&=65535,le.fromBits(c<<16|l,a<<16|f,this.unsigned)}and(e){return le.isLong(e)||(e=le.fromValue(e)),le.fromBits(this.low&e.low,this.high&e.high,this.unsigned)}compare(e){if(le.isLong(e)||(e=le.fromValue(e)),this.eq(e))return 0;const t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1}comp(e){return this.compare(e)}divide(e){if(le.isLong(e)||(e=le.fromValue(e)),e.isZero())throw new D("division by zero");if(ie){if(!this.unsigned&&-2147483648===this.high&&-1===e.low&&-1===e.high)return this;const t=(this.unsigned?ie.div_u:ie.div_s)(this.low,this.high,e.low,e.high);return le.fromBits(t,ie.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?le.UZERO:le.ZERO;let t,n,r;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return le.UZERO;if(e.gt(this.shru(1)))return le.UONE;r=le.UZERO}else{if(this.eq(le.MIN_VALUE))return e.eq(le.ONE)||e.eq(le.NEG_ONE)?le.MIN_VALUE:e.eq(le.MIN_VALUE)?le.ONE:(t=this.shr(1).div(e).shl(1),t.eq(le.ZERO)?e.isNegative()?le.ONE:le.NEG_ONE:(n=this.sub(e.mul(t)),r=t.add(n.div(e)),r));if(e.eq(le.MIN_VALUE))return this.unsigned?le.UZERO:le.ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();r=le.ZERO}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));const i=Math.ceil(Math.log(t)/Math.LN2),o=i<=48?1:Math.pow(2,i-48);let s=le.fromNumber(t),u=s.mul(e);for(;u.isNegative()||u.gt(n);)t-=o,s=le.fromNumber(t,this.unsigned),u=s.mul(e);s.isZero()&&(s=le.ONE),r=r.add(s),n=n.sub(u)}return r}div(e){return this.divide(e)}equals(e){return le.isLong(e)||(e=le.fromValue(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low}eq(e){return this.equals(e)}getHighBits(){return this.high}getHighBitsUnsigned(){return this.high>>>0}getLowBits(){return this.low}getLowBitsUnsigned(){return this.low>>>0}getNumBitsAbs(){if(this.isNegative())return this.eq(le.MIN_VALUE)?64:this.neg().getNumBitsAbs();const e=0!==this.high?this.high:this.low;let t;for(t=31;t>0&&0==(e&1<<t);t--);return 0!==this.high?t+33:t+1}greaterThan(e){return this.comp(e)>0}gt(e){return this.greaterThan(e)}greaterThanOrEqual(e){return this.comp(e)>=0}gte(e){return this.greaterThanOrEqual(e)}ge(e){return this.greaterThanOrEqual(e)}isEven(){return 0==(1&this.low)}isNegative(){return!this.unsigned&&this.high<0}isOdd(){return 1==(1&this.low)}isPositive(){return this.unsigned||this.high>=0}isZero(){return 0===this.high&&0===this.low}lessThan(e){return this.comp(e)<0}lt(e){return this.lessThan(e)}lessThanOrEqual(e){return this.comp(e)<=0}lte(e){return this.lessThanOrEqual(e)}modulo(e){if(le.isLong(e)||(e=le.fromValue(e)),ie){const t=(this.unsigned?ie.rem_u:ie.rem_s)(this.low,this.high,e.low,e.high);return le.fromBits(t,ie.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))}mod(e){return this.modulo(e)}rem(e){return this.modulo(e)}multiply(e){if(this.isZero())return le.ZERO;if(le.isLong(e)||(e=le.fromValue(e)),ie){const t=ie.mul(this.low,this.high,e.low,e.high);return le.fromBits(t,ie.get_high(),this.unsigned)}if(e.isZero())return le.ZERO;if(this.eq(le.MIN_VALUE))return e.isOdd()?le.MIN_VALUE:le.ZERO;if(e.eq(le.MIN_VALUE))return this.isOdd()?le.MIN_VALUE:le.ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(le.TWO_PWR_24)&&e.lt(le.TWO_PWR_24))return le.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);const t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=e.high>>>16,s=65535&e.high,u=e.low>>>16,a=65535&e.low;let f=0,c=0,l=0,h=0;return h+=i*a,l+=h>>>16,h&=65535,l+=r*a,c+=l>>>16,l&=65535,l+=i*u,c+=l>>>16,l&=65535,c+=n*a,f+=c>>>16,c&=65535,c+=r*u,f+=c>>>16,c&=65535,c+=i*s,f+=c>>>16,c&=65535,f+=t*a+n*u+r*s+i*o,f&=65535,le.fromBits(l<<16|h,f<<16|c,this.unsigned)}mul(e){return this.multiply(e)}negate(){return!this.unsigned&&this.eq(le.MIN_VALUE)?le.MIN_VALUE:this.not().add(le.ONE)}neg(){return this.negate()}not(){return le.fromBits(~this.low,~this.high,this.unsigned)}notEquals(e){return!this.equals(e)}neq(e){return this.notEquals(e)}ne(e){return this.notEquals(e)}or(e){return le.isLong(e)||(e=le.fromValue(e)),le.fromBits(this.low|e.low,this.high|e.high,this.unsigned)}shiftLeft(e){return le.isLong(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?le.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):le.fromBits(0,this.low<<e-32,this.unsigned)}shl(e){return this.shiftLeft(e)}shiftRight(e){return le.isLong(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?le.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):le.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)}shr(e){return this.shiftRight(e)}shiftRightUnsigned(e){if(le.isLong(e)&&(e=e.toInt()),0==(e&=63))return this;{const t=this.high;if(e<32){const n=this.low;return le.fromBits(n>>>e|t<<32-e,t>>>e,this.unsigned)}return 32===e?le.fromBits(t,0,this.unsigned):le.fromBits(t>>>e-32,0,this.unsigned)}}shr_u(e){return this.shiftRightUnsigned(e)}shru(e){return this.shiftRightUnsigned(e)}subtract(e){return le.isLong(e)||(e=le.fromValue(e)),this.add(e.neg())}sub(e){return this.subtract(e)}toInt(){return this.unsigned?this.low>>>0:this.low}toNumber(){return this.unsigned?(this.high>>>0)*oe+(this.low>>>0):this.high*oe+(this.low>>>0)}toBigInt(){return BigInt(this.toString())}toBytes(e){return e?this.toBytesLE():this.toBytesBE()}toBytesLE(){const e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]}toBytesBE(){const e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]}toSigned(){return this.unsigned?le.fromBits(this.low,this.high,!1):this}toString(e){if((e=e||10)<2||36<e)throw new D("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(le.MIN_VALUE)){const t=le.fromNumber(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}const t=le.fromNumber(Math.pow(e,6),this.unsigned);let n=this,r="";for(;;){const i=n.div(t);let o=(n.sub(i.mul(t)).toInt()>>>0).toString(e);if(n=i,n.isZero())return o+r;for(;o.length<6;)o="0"+o;r=""+o+r}}toUnsigned(){return this.unsigned?this:le.fromBits(this.low,this.high,!0)}xor(e){return le.isLong(e)||(e=le.fromValue(e)),le.fromBits(this.low^e.low,this.high^e.high,this.unsigned)}eqz(){return this.isZero()}le(e){return this.lessThanOrEqual(e)}toExtendedJSON(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}}static fromExtendedJSON(e,t){const{useBigInt64:n=!1,relaxed:r=!0}={...t};if(e.$numberLong.length>20)throw new D("$numberLong string is too long");if(!ce.test(e.$numberLong))throw new D(`$numberLong string "${e.$numberLong}" is in an invalid format`);if(n){const t=BigInt(e.$numberLong);return BigInt.asIntN(64,t)}const i=le.fromString(e.$numberLong);return r?i.toNumber():i}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new Long("${this.toString()}"${this.unsigned?", true":""})`}}le.TWO_PWR_24=le.fromInt(1<<24),le.MAX_UNSIGNED_VALUE=le.fromBits(-1,-1,!0),le.ZERO=le.fromInt(0),le.UZERO=le.fromInt(0,!0),le.ONE=le.fromInt(1),le.UONE=le.fromInt(1,!0),le.NEG_ONE=le.fromInt(-1),le.MAX_VALUE=le.fromBits(-1,2147483647,!1),le.MIN_VALUE=le.fromBits(0,-2147483648,!1);const he=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,de=/^(\+|-)?(Infinity|inf)$/i,pe=/^(\+|-)?NaN$/i,ge=6111,ye=-6176,be=K.fromNumberArray([124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),me=K.fromNumberArray([248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),ve=K.fromNumberArray([120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),_e=/^([-+])?(\d+)?$/;function we(e){return!isNaN(parseInt(e,10))}function Se(e){const t=le.fromNumber(1e9);let n=le.fromNumber(0);if(!(e.parts[0]||e.parts[1]||e.parts[2]||e.parts[3]))return{quotient:e,rem:n};for(let r=0;r<=3;r++)n=n.shiftLeft(32),n=n.add(new le(e.parts[r],0)),e.parts[r]=n.div(t).low,n=n.modulo(t);return{quotient:e,rem:n}}function Oe(e,t){throw new D(`"${e}" is not a valid Decimal128 string - ${t}`)}class xe extends Y{get _bsontype(){return"Decimal128"}constructor(e){if(super(),"string"==typeof e)this.bytes=xe.fromString(e).bytes;else{if(!i(e))throw new D("Decimal128 must take a Buffer or string");if(16!==e.byteLength)throw new D("Decimal128 must take a Buffer of 16 bytes");this.bytes=e}}static fromString(e){let t=!1,n=!1,r=!1,i=0,o=0,s=0,u=0,a=0;const f=[0];let c=0,l=0,h=0,d=0,p=0,g=0,y=new le(0,0),b=new le(0,0),m=0,v=0;if(e.length>=7e3)throw new D(e+" not a valid Decimal128 string");const _=e.match(he),w=e.match(de),S=e.match(pe);if(!_&&!w&&!S||0===e.length)throw new D(e+" not a valid Decimal128 string");if(_){const t=_[2],n=_[4],r=_[5],i=_[6];n&&void 0===i&&Oe(e,"missing exponent power"),n&&void 0===t&&Oe(e,"missing exponent base"),void 0===n&&(r||i)&&Oe(e,"missing e before exponent")}if("+"!==e[v]&&"-"!==e[v]||(t="-"===e[v++]),!we(e[v])&&"."!==e[v]){if("i"===e[v]||"I"===e[v])return new xe(t?me:ve);if("N"===e[v])return new xe(be)}for(;we(e[v])||"."===e[v];)"."!==e[v]?(c<34&&("0"!==e[v]||r)&&(r||(a=o),r=!0,f[l++]=parseInt(e[v],10),c+=1),r&&(s+=1),n&&(u+=1),o+=1,v+=1):(n&&Oe(e,"contains multiple periods"),n=!0,v+=1);if(n&&!o)throw new D(e+" not a valid Decimal128 string");if("e"===e[v]||"E"===e[v]){const t=e.substr(++v).match(_e);if(!t||!t[2])return new xe(be);p=parseInt(t[0],10),v+=t[0].length}if(e[v])return new xe(be);if(h=0,c){if(d=c-1,i=s,1!==i)for(;0===f[a+i-1];)i-=1}else h=0,d=0,f[0]=0,s=1,c=1,i=0;for(p<=u&&u-p>16384?p=ye:p-=u;p>ge;){if(d+=1,d-h>34){if(f.join("").match(/^0+$/)){p=ge;break}Oe(e,"overflow")}p-=1}for(;p<ye||c<s;){if(0===d&&i<c){p=ye,i=0;break}if(c<s?s-=1:d-=1,p<ge)p+=1;else{if(f.join("").match(/^0+$/)){p=ge;break}Oe(e,"overflow")}}if(d-h+1<i){let r=o;n&&(a+=1,r+=1),t&&(a+=1,r+=1);const i=parseInt(e[a+d+1],10);let s=0;if(i>=5&&(s=1,5===i))for(s=f[d]%2==1?1:0,g=a+d+2;g<r;g++)if(parseInt(e[g],10)){s=1;break}if(s){let e=d;for(;e>=0;e--)if(++f[e]>9&&(f[e]=0,0===e)){if(!(p<ge))return new xe(t?me:ve);p+=1,f[e]=1}}}if(y=le.fromNumber(0),b=le.fromNumber(0),0===i)y=le.fromNumber(0),b=le.fromNumber(0);else if(d-h<17){let e=h;for(b=le.fromNumber(f[e++]),y=new le(0,0);e<=d;e++)b=b.multiply(le.fromNumber(10)),b=b.add(le.fromNumber(f[e]))}else{let e=h;for(y=le.fromNumber(f[e++]);e<=d-17;e++)y=y.multiply(le.fromNumber(10)),y=y.add(le.fromNumber(f[e]));for(b=le.fromNumber(f[e++]);e<=d;e++)b=b.multiply(le.fromNumber(10)),b=b.add(le.fromNumber(f[e]))}const O=function(e,t){if(!e&&!t)return{high:le.fromNumber(0),low:le.fromNumber(0)};const n=e.shiftRightUnsigned(32),r=new le(e.getLowBits(),0),i=t.shiftRightUnsigned(32),o=new le(t.getLowBits(),0);let s=n.multiply(i),u=n.multiply(o);const a=r.multiply(i);let f=r.multiply(o);return s=s.add(u.shiftRightUnsigned(32)),u=new le(u.getLowBits(),0).add(a).add(f.shiftRightUnsigned(32)),s=s.add(u.shiftRightUnsigned(32)),f=u.shiftLeft(32).add(new le(f.getLowBits(),0)),{high:s,low:f}}(y,le.fromString("100000000000000000"));O.low=O.low.add(b),function(e,t){const n=e.high>>>0,r=t.high>>>0;return n<r||n===r&&e.low>>>0<t.low>>>0}(O.low,b)&&(O.high=O.high.add(le.fromNumber(1))),m=p+6176;const x={low:le.fromNumber(0),high:le.fromNumber(0)};O.high.shiftRightUnsigned(49).and(le.fromNumber(1)).equals(le.fromNumber(1))?(x.high=x.high.or(le.fromNumber(3).shiftLeft(61)),x.high=x.high.or(le.fromNumber(m).and(le.fromNumber(16383).shiftLeft(47))),x.high=x.high.or(O.high.and(le.fromNumber(0x7fffffffffff)))):(x.high=x.high.or(le.fromNumber(16383&m).shiftLeft(49)),x.high=x.high.or(O.high.and(le.fromNumber(562949953421311)))),x.low=O.low,t&&(x.high=x.high.or(le.fromString("9223372036854775808")));const E=K.allocate(16);return v=0,E[v++]=255&x.low.low,E[v++]=x.low.low>>8&255,E[v++]=x.low.low>>16&255,E[v++]=x.low.low>>24&255,E[v++]=255&x.low.high,E[v++]=x.low.high>>8&255,E[v++]=x.low.high>>16&255,E[v++]=x.low.high>>24&255,E[v++]=255&x.high.low,E[v++]=x.high.low>>8&255,E[v++]=x.high.low>>16&255,E[v++]=x.high.low>>24&255,E[v++]=255&x.high.high,E[v++]=x.high.high>>8&255,E[v++]=x.high.high>>16&255,E[v++]=x.high.high>>24&255,new xe(E)}toString(){let e,t=0;const n=new Array(36);for(let e=0;e<n.length;e++)n[e]=0;let r,i,o,s=0,u=!1,a={parts:[0,0,0,0]};const f=[];s=0;const c=this.bytes,l=c[s++]|c[s++]<<8|c[s++]<<16|c[s++]<<24,h=c[s++]|c[s++]<<8|c[s++]<<16|c[s++]<<24,d=c[s++]|c[s++]<<8|c[s++]<<16|c[s++]<<24,p=c[s++]|c[s++]<<8|c[s++]<<16|c[s++]<<24;s=0,(new le(l,h),new le(d,p)).lessThan(le.ZERO)&&f.push("-");const g=p>>26&31;if(g>>3==3){if(30===g)return f.join("")+"Infinity";if(31===g)return"NaN";e=p>>15&16383,r=8+(p>>14&1)}else r=p>>14&7,e=p>>17&16383;const y=e-6176;if(a.parts[0]=(16383&p)+((15&r)<<14),a.parts[1]=d,a.parts[2]=h,a.parts[3]=l,0===a.parts[0]&&0===a.parts[1]&&0===a.parts[2]&&0===a.parts[3])u=!0;else for(o=3;o>=0;o--){let e=0;const t=Se(a);if(a=t.quotient,e=t.rem.low,e)for(i=8;i>=0;i--)n[9*o+i]=e%10,e=Math.floor(e/10)}if(u)t=1,n[s]=0;else for(t=36;!n[s];)t-=1,s+=1;const b=t-1+y;if(b>=34||b<=-7||y>0){if(t>34)return f.push("0"),y>0?f.push(`E+${y}`):y<0&&f.push(`E${y}`),f.join("");f.push(`${n[s++]}`),t-=1,t&&f.push(".");for(let e=0;e<t;e++)f.push(`${n[s++]}`);f.push("E"),b>0?f.push(`+${b}`):f.push(`${b}`)}else if(y>=0)for(let e=0;e<t;e++)f.push(`${n[s++]}`);else{let e=t+y;if(e>0)for(let t=0;t<e;t++)f.push(`${n[s++]}`);else f.push("0");for(f.push(".");e++<0;)f.push("0");for(let r=0;r<t-Math.max(e-1,0);r++)f.push(`${n[s++]}`)}return f.join("")}toJSON(){return{$numberDecimal:this.toString()}}toExtendedJSON(){return{$numberDecimal:this.toString()}}static fromExtendedJSON(e){return xe.fromString(e.$numberDecimal)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new Decimal128("${this.toString()}")`}}class Ee extends Y{get _bsontype(){return"Double"}constructor(e){super(),e instanceof Number&&(e=e.valueOf()),this.value=+e}valueOf(){return this.value}toJSON(){return this.value}toString(e){return this.value.toString(e)}toExtendedJSON(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-0.0"}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}}static fromExtendedJSON(e,t){const n=parseFloat(e.$numberDouble);return t&&t.relaxed?n:new Ee(n)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new Double(${this.toExtendedJSON().$numberDouble})`}}class Be extends Y{get _bsontype(){return"Int32"}constructor(e){super(),e instanceof Number&&(e=e.valueOf()),this.value=0|+e}valueOf(){return this.value}toString(e){return this.value.toString(e)}toJSON(){return this.value}toExtendedJSON(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}}static fromExtendedJSON(e,t){return t&&t.relaxed?parseInt(e.$numberInt,10):new Be(e.$numberInt)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new Int32(${this.valueOf()})`}}class Ne extends Y{get _bsontype(){return"MaxKey"}toExtendedJSON(){return{$maxKey:1}}static fromExtendedJSON(){return new Ne}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return"new MaxKey()"}}class je extends Y{get _bsontype(){return"MinKey"}toExtendedJSON(){return{$minKey:1}}static fromExtendedJSON(){return new je}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return"new MinKey()"}}const Ae=new RegExp("^[0-9a-fA-F]{24}$");let Ie=null;const Te=Symbol("id");class Ue extends Y{get _bsontype(){return"ObjectId"}constructor(e){let t;if(super(),"object"==typeof e&&e&&"id"in e){if("string"!=typeof e.id&&!ArrayBuffer.isView(e.id))throw new D("Argument passed in must have an id that is of type string or Buffer");t="toHexString"in e&&"function"==typeof e.toHexString?K.fromHex(e.toHexString()):e.id}else t=e;if(null==t||"number"==typeof t)this[Te]=Ue.generate("number"==typeof t?t:void 0);else if(ArrayBuffer.isView(t)&&12===t.byteLength)this[Te]=K.toLocalBufferType(t);else{if("string"!=typeof t)throw new D("Argument passed in does not match the accepted types");if(12===t.length){const e=K.fromUTF8(t);if(12!==e.byteLength)throw new D("Argument passed in must be a string of 12 bytes");this[Te]=e}else{if(24!==t.length||!Ae.test(t))throw new D("Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer");this[Te]=K.fromHex(t)}}Ue.cacheHexString&&(this.__id=K.toHex(this.id))}get id(){return this[Te]}set id(e){this[Te]=e,Ue.cacheHexString&&(this.__id=K.toHex(e))}toHexString(){if(Ue.cacheHexString&&this.__id)return this.__id;const e=K.toHex(this.id);return Ue.cacheHexString&&!this.__id&&(this.__id=e),e}static getInc(){return Ue.index=(Ue.index+1)%16777215}static generate(e){"number"!=typeof e&&(e=Math.floor(Date.now()/1e3));const t=Ue.getInc(),n=K.allocate(12);return Z.fromUint8Array(n).setUint32(0,e,!1),null===Ie&&(Ie=K.randomBytes(5)),n[4]=Ie[0],n[5]=Ie[1],n[6]=Ie[2],n[7]=Ie[3],n[8]=Ie[4],n[11]=255&t,n[10]=t>>8&255,n[9]=t>>16&255,n}toString(e){return"base64"===e?K.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}equals(e){if(null==e)return!1;if(e instanceof Ue)return this[Te][11]===e[Te][11]&&K.equals(this[Te],e[Te]);if("string"==typeof e&&Ue.isValid(e)&&12===e.length&&i(this.id))return K.equals(this.id,K.fromISO88591(e));if("string"==typeof e&&Ue.isValid(e)&&24===e.length)return e.toLowerCase()===this.toHexString();if("string"==typeof e&&Ue.isValid(e)&&12===e.length)return K.equals(K.fromUTF8(e),this.id);if("object"==typeof e&&"toHexString"in e&&"function"==typeof e.toHexString){const t=e.toHexString(),n=this.toHexString().toLowerCase();return"string"==typeof t&&t.toLowerCase()===n}return!1}getTimestamp(){const e=new Date,t=Z.fromUint8Array(this.id).getUint32(0,!1);return e.setTime(1e3*Math.floor(t)),e}static createPk(){return new Ue}static createFromTime(e){const t=K.fromNumberArray([0,0,0,0,0,0,0,0,0,0,0,0]);return Z.fromUint8Array(t).setUint32(0,e,!1),new Ue(t)}static createFromHexString(e){if(24!==e?.length)throw new D("hex string must be 24 characters");return new Ue(K.fromHex(e))}static createFromBase64(e){if(16!==e?.length)throw new D("base64 string must be 16 characters");return new Ue(K.fromBase64(e))}static isValid(e){if(null==e)return!1;try{return new Ue(e),!0}catch{return!1}}toExtendedJSON(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}static fromExtendedJSON(e){return new Ue(e.$oid)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new ObjectId("${this.toHexString()}")`}}function $e(e,t,n){let r=5;if(Array.isArray(e))for(let i=0;i<e.length;i++)r+=Re(i.toString(),e[i],t,!0,n);else{"function"==typeof e?.toBSON&&(e=e.toBSON());for(const i of Object.keys(e))r+=Re(i,e[i],t,!1,n)}return r}function Re(e,t,n=!1,i=!1,s=!1){switch("function"==typeof t?.toBSON&&(t=t.toBSON()),typeof t){case"string":return 1+K.utf8ByteLength(e)+1+4+K.utf8ByteLength(t)+1;case"number":return Math.floor(t)===t&&t>=p&&t<=d&&t>=c&&t<=f?(null!=e?K.utf8ByteLength(e)+1:0)+5:(null!=e?K.utf8ByteLength(e)+1:0)+9;case"undefined":return i||!s?(null!=e?K.utf8ByteLength(e)+1:0)+1:0;case"boolean":return(null!=e?K.utf8ByteLength(e)+1:0)+2;case"object":if(null!=t&&"string"==typeof t._bsontype&&t[Symbol.for("@@mdb.bson.version")]!==a)throw new P;if(null==t||"MinKey"===t._bsontype||"MaxKey"===t._bsontype)return(null!=e?K.utf8ByteLength(e)+1:0)+1;if("ObjectId"===t._bsontype)return(null!=e?K.utf8ByteLength(e)+1:0)+13;if(t instanceof Date||u(t))return(null!=e?K.utf8ByteLength(e)+1:0)+9;if(ArrayBuffer.isView(t)||t instanceof ArrayBuffer||r(t))return(null!=e?K.utf8ByteLength(e)+1:0)+6+t.byteLength;if("Long"===t._bsontype||"Double"===t._bsontype||"Timestamp"===t._bsontype)return(null!=e?K.utf8ByteLength(e)+1:0)+9;if("Decimal128"===t._bsontype)return(null!=e?K.utf8ByteLength(e)+1:0)+17;if("Code"===t._bsontype)return null!=t.scope&&Object.keys(t.scope).length>0?(null!=e?K.utf8ByteLength(e)+1:0)+1+4+4+K.utf8ByteLength(t.code.toString())+1+$e(t.scope,n,s):(null!=e?K.utf8ByteLength(e)+1:0)+1+4+K.utf8ByteLength(t.code.toString())+1;if("Binary"===t._bsontype){const n=t;return n.sub_type===G.SUBTYPE_BYTE_ARRAY?(null!=e?K.utf8ByteLength(e)+1:0)+(n.position+1+4+1+4):(null!=e?K.utf8ByteLength(e)+1:0)+(n.position+1+4+1)}if("Symbol"===t._bsontype)return(null!=e?K.utf8ByteLength(e)+1:0)+K.utf8ByteLength(t.value)+4+1+1;if("DBRef"===t._bsontype){const r=Object.assign({$ref:t.collection,$id:t.oid},t.fields);return null!=t.db&&(r.$db=t.db),(null!=e?K.utf8ByteLength(e)+1:0)+1+$e(r,n,s)}return t instanceof RegExp||o(t)?(null!=e?K.utf8ByteLength(e)+1:0)+1+K.utf8ByteLength(t.source)+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:"BSONRegExp"===t._bsontype?(null!=e?K.utf8ByteLength(e)+1:0)+1+K.utf8ByteLength(t.pattern)+1+K.utf8ByteLength(t.options)+1:(null!=e?K.utf8ByteLength(e)+1:0)+$e(t,n,s)+1;case"function":if(n)return(null!=e?K.utf8ByteLength(e)+1:0)+1+4+K.utf8ByteLength(t.toString())+1}return 0}Ue.index=Math.floor(16777215*Math.random());class Ce extends Y{get _bsontype(){return"BSONRegExp"}constructor(e,t){if(super(),this.pattern=e,this.options=(t??"").split("").sort().join(""),-1!==this.pattern.indexOf("\0"))throw new D(`BSON Regex patterns cannot contain null bytes, found: ${JSON.stringify(this.pattern)}`);if(-1!==this.options.indexOf("\0"))throw new D(`BSON Regex options cannot contain null bytes, found: ${JSON.stringify(this.options)}`);for(let e=0;e<this.options.length;e++)if("i"!==this.options[e]&&"m"!==this.options[e]&&"x"!==this.options[e]&&"l"!==this.options[e]&&"s"!==this.options[e]&&"u"!==this.options[e])throw new D(`The regular expression option [${this.options[e]}] is not supported`)}static parseOptions(e){return e?e.split("").sort().join(""):""}toExtendedJSON(e){return(e=e||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}static fromExtendedJSON(e){if("$regex"in e){if("string"==typeof e.$regex)return new Ce(e.$regex,Ce.parseOptions(e.$options));if("BSONRegExp"===e.$regex._bsontype)return e}if("$regularExpression"in e)return new Ce(e.$regularExpression.pattern,Ce.parseOptions(e.$regularExpression.options));throw new D(`Unexpected BSONRegExp EJSON object form: ${JSON.stringify(e)}`)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new BSONRegExp(${JSON.stringify(this.pattern)}, ${JSON.stringify(this.options)})`}}class Le extends Y{get _bsontype(){return"BSONSymbol"}constructor(e){super(),this.value=e}valueOf(){return this.value}toString(){return this.value}inspect(){return`new BSONSymbol("${this.value}")`}toJSON(){return this.value}toExtendedJSON(){return{$symbol:this.value}}static fromExtendedJSON(e){return new Le(e.$symbol)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}}const Me=le;class ke extends Me{get _bsontype(){return"Timestamp"}constructor(e){if(null==e)super(0,0,!0);else if("bigint"==typeof e)super(e,!0);else if(le.isLong(e))super(e.low,e.high,!0);else{if("object"!=typeof e||!("t"in e)||!("i"in e))throw new D("A Timestamp can only be constructed with: bigint, Long, or { t: number; i: number }");{if("number"!=typeof e.t&&("object"!=typeof e.t||"Int32"!==e.t._bsontype))throw new D("Timestamp constructed from { t, i } must provide t as a number");if("number"!=typeof e.i&&("object"!=typeof e.i||"Int32"!==e.i._bsontype))throw new D("Timestamp constructed from { t, i } must provide i as a number");const t=Number(e.t),n=Number(e.i);if(t<0||Number.isNaN(t))throw new D("Timestamp constructed from { t, i } must provide a positive t");if(n<0||Number.isNaN(n))throw new D("Timestamp constructed from { t, i } must provide a positive i");if(t>4294967295)throw new D("Timestamp constructed from { t, i } must provide t equal or less than uint32 max");if(n>4294967295)throw new D("Timestamp constructed from { t, i } must provide i equal or less than uint32 max");super(n,t,!0)}}}toJSON(){return{$timestamp:this.toString()}}static fromInt(e){return new ke(le.fromInt(e,!0))}static fromNumber(e){return new ke(le.fromNumber(e,!0))}static fromBits(e,t){return new ke({i:e,t})}static fromString(e,t){return new ke(le.fromString(e,!0,t))}toExtendedJSON(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}}static fromExtendedJSON(e){const t=le.isLong(e.$timestamp.i)?e.$timestamp.i.getLowBitsUnsigned():e.$timestamp.i,n=le.isLong(e.$timestamp.t)?e.$timestamp.t.getLowBitsUnsigned():e.$timestamp.t;return new ke({t:n,i:t})}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new Timestamp({ t: ${this.getHighBits()}, i: ${this.getLowBits()} })`}}ke.MAX_VALUE=le.MAX_UNSIGNED_VALUE;const De=128,Pe=192,Fe=224,He=240,ze=248,qe=192,Je=224,We=240,Ve=128;function Ke(e,t,n){let r=0;for(let i=t;i<n;i+=1){const t=e[i];if(r){if((t&Pe)!==Ve)return!1;r-=1}else if(t&De)if((t&Fe)===qe)r=1;else if((t&He)===Je)r=2;else{if((t&ze)!==We)return!1;r=3}}return!r}const Ze=le.fromNumber(d),Ye=le.fromNumber(p);function Ge(e,t,n){const r=(t=null==t?{}:t)&&t.index?t.index:0,i=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24;if(i<5)throw new D(`bson size must be >= 5, is ${i}`);if(t.allowObjectSmallerThanBufferSize&&e.length<i)throw new D(`buffer length ${e.length} must be >= bson size ${i}`);if(!t.allowObjectSmallerThanBufferSize&&e.length!==i)throw new D(`buffer length ${e.length} must === bson size ${i}`);if(i+r>e.byteLength)throw new D(`(bson size ${i} + options.index ${r} must be <= buffer length ${e.byteLength})`);if(0!==e[r+i-1])throw new D("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return Qe(e,r,t,n)}const Xe=/^\$ref$|^\$id$|^\$db$/;function Qe(e,t,n,r=!1){const i=null==n.fieldsAsRaw?null:n.fieldsAsRaw,o=null!=n.raw&&n.raw,s="boolean"==typeof n.bsonRegExp&&n.bsonRegExp,u=n.promoteBuffers??!1,a=n.promoteLongs??!0,f=n.promoteValues??!0,c=n.useBigInt64??!1;if(c&&!f)throw new D("Must either request bigint or Long for int64 deserialization");if(c&&!a)throw new D("Must either request bigint or Long for int64 deserialization");const l=null==n.validation?{utf8:!0}:n.validation;let h,d=!0;const p=new Set,L=l.utf8;if("boolean"==typeof L)h=L;else{d=!1;const e=Object.keys(L).map((function(e){return L[e]}));if(0===e.length)throw new D("UTF-8 validation setting cannot be empty");if("boolean"!=typeof e[0])throw new D("Invalid UTF-8 validation option, must specify boolean values");if(h=e[0],!e.every((e=>e===h)))throw new D("Invalid UTF-8 validation option - keys must be all true or all false")}if(!d)for(const e of Object.keys(L))p.add(e);const k=t;if(e.length<5)throw new D("corrupt bson message < 5 bytes long");const P=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(P<5||P>e.length)throw new D("corrupt bson message");const F=r?[]:{};let H=0,z=!r&&null;const q=new DataView(e.buffer,e.byteOffset,e.byteLength);for(;;){const L=e[t++];if(0===L)break;let k=t;for(;0!==e[k]&&k<e.length;)k++;if(k>=e.byteLength)throw new D("Bad BSON Document: illegal CString");const P=r?H++:K.toUTF8(e,t,k);let J,W=!0;if(W=d||p.has(P)?h:!h,!1!==z&&"$"===P[0]&&(z=Xe.test(P)),t=k+1,L===y){const n=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(n<=0||n>e.length-t||0!==e[t+n-1])throw new D("bad string length in bson");J=et(e,t,t+n-1,W),t+=n}else if(L===w){const n=K.allocate(12);n.set(e.subarray(t,t+12)),J=new Ue(n),t+=12}else if(L===I&&!1===f)J=new Be(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24);else if(L===I)J=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;else if(L===g&&!1===f)J=new Ee(q.getFloat64(t,!0)),t+=8;else if(L===g)J=q.getFloat64(t,!0),t+=8;else if(L===O){const n=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,r=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;J=new Date(new le(n,r).toNumber())}else if(L===S){if(0!==e[t]&&1!==e[t])throw new D("illegal boolean type value");J=1===e[t++]}else if(L===b){const r=t,i=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;if(i<=0||i>e.length-t)throw new D("bad embedded document length in bson");if(o)J=e.slice(t,t+i);else{let t=n;d||(t={...n,validation:{utf8:W}}),J=Qe(e,r,t,!1)}t+=i}else if(L===m){const r=t,o=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;let s=n;const u=t+o;if(i&&i[P]&&(s={...n,raw:!0}),d||(s={...s,validation:{utf8:W}}),J=Qe(e,r,s,!0),0!==e[(t+=o)-1])throw new D("invalid array terminator byte");if(t!==u)throw new D("corrupted array bson")}else if(L===_)J=void 0;else if(L===x)J=null;else if(L===U){const n=Z.fromUint8Array(e.subarray(t,t+8)),r=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,i=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,o=new le(r,i);J=c?n.getBigInt64(0,!0):a&&!0===f&&o.lessThanOrEqual(Ze)&&o.greaterThanOrEqual(Ye)?o.toNumber():o}else if(L===$){const n=K.allocate(16);n.set(e.subarray(t,t+16),0),t+=16,J=new xe(n)}else if(L===v){let n=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;const r=n,i=e[t++];if(n<0)throw new D("Negative binary type element size found");if(n>e.byteLength)throw new D("Binary type size larger than document size");if(null!=e.slice){if(i===G.SUBTYPE_BYTE_ARRAY){if(n=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,n<0)throw new D("Negative binary type element size found for subtype 0x02");if(n>r-4)throw new D("Binary type with subtype 0x02 contains too long binary size");if(n<r-4)throw new D("Binary type with subtype 0x02 contains too short binary size")}u&&f?J=K.toLocalBufferType(e.slice(t,t+n)):(J=new G(e.slice(t,t+n),i),i===M&&ee.isValid(J)&&(J=J.toUUID()))}else{const o=K.allocate(n);if(i===G.SUBTYPE_BYTE_ARRAY){if(n=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,n<0)throw new D("Negative binary type element size found for subtype 0x02");if(n>r-4)throw new D("Binary type with subtype 0x02 contains too long binary size");if(n<r-4)throw new D("Binary type with subtype 0x02 contains too short binary size")}for(k=0;k<n;k++)o[k]=e[t+k];u&&f?J=o:(J=new G(e.slice(t,t+n),i),i===M&&ee.isValid(J)&&(J=J.toUUID()))}t+=n}else if(L===E&&!1===s){for(k=t;0!==e[k]&&k<e.length;)k++;if(k>=e.length)throw new D("Bad BSON Document: illegal CString");const n=K.toUTF8(e,t,k);for(k=t=k+1;0!==e[k]&&k<e.length;)k++;if(k>=e.length)throw new D("Bad BSON Document: illegal CString");const r=K.toUTF8(e,t,k);t=k+1;const i=new Array(r.length);for(k=0;k<r.length;k++)switch(r[k]){case"m":i[k]="m";break;case"s":i[k]="g";break;case"i":i[k]="i"}J=new RegExp(n,i.join(""))}else if(L===E&&!0===s){for(k=t;0!==e[k]&&k<e.length;)k++;if(k>=e.length)throw new D("Bad BSON Document: illegal CString");const n=K.toUTF8(e,t,k);for(k=t=k+1;0!==e[k]&&k<e.length;)k++;if(k>=e.length)throw new D("Bad BSON Document: illegal CString");const r=K.toUTF8(e,t,k);t=k+1,J=new Ce(n,r)}else if(L===j){const n=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(n<=0||n>e.length-t||0!==e[t+n-1])throw new D("bad string length in bson");const r=et(e,t,t+n-1,W);J=f?r:new Le(r),t+=n}else if(L===T){const n=e[t++]+256*e[t++]+65536*e[t++]+e[t++]*(1<<24),r=e[t++]+256*e[t++]+65536*e[t++]+e[t++]*(1<<24);J=new ke({i:n,t:r})}else if(L===R)J=new je;else if(L===C)J=new Ne;else if(L===N){const n=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(n<=0||n>e.length-t||0!==e[t+n-1])throw new D("bad string length in bson");const r=et(e,t,t+n-1,W);J=new te(r),t+=n}else if(L===A){const r=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(r<13)throw new D("code_w_scope total size shorter minimum expected length");const i=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(i<=0||i>e.length-t||0!==e[t+i-1])throw new D("bad string length in bson");const o=et(e,t,t+i-1,W),s=t+=i,u=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,a=Qe(e,s,n,!1);if(t+=u,r<8+u+i)throw new D("code_w_scope total size is too short, truncating scope");if(r>8+u+i)throw new D("code_w_scope total size is too long, clips outer document");J=new te(o,a)}else{if(L!==B)throw new D(`Detected unknown BSON type ${L.toString(16)} for fieldname "${P}"`);{const n=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(n<=0||n>e.length-t||0!==e[t+n-1])throw new D("bad string length in bson");if(null!=l&&l.utf8&&!Ke(e,t,t+n-1))throw new D("Invalid UTF-8 string in BSON document");const r=K.toUTF8(e,t,t+n-1);t+=n;const i=K.allocate(12);i.set(e.subarray(t,t+12),0);const o=new Ue(i);t+=12,J=new re(r,o)}}"__proto__"===P?Object.defineProperty(F,P,{value:J,writable:!0,enumerable:!0,configurable:!0}):F[P]=J}if(P!==t-k){if(r)throw new D("corrupt array bson");throw new D("corrupt object bson")}if(!z)return F;if(ne(F)){const e=Object.assign({},F);return delete e.$ref,delete e.$id,delete e.$db,new re(F.$ref,F.$id,F.$db,e)}return F}function et(e,t,n,r){const i=K.toUTF8(e,t,n);if(r)for(let r=0;r<i.length;r++)if(65533===i.charCodeAt(r)){if(!Ke(e,t,n))throw new D("Invalid UTF-8 string in BSON document");break}return i}const tt=/\x00/,nt=new Set(["$db","$ref","$id","$clusterTime"]);function rt(e,t,n,r){e[r++]=y,e[(r=r+K.encodeUTF8Into(e,t,r)+1)-1]=0;const i=K.encodeUTF8Into(e,n,r+4);return e[r+3]=i+1>>24&255,e[r+2]=i+1>>16&255,e[r+1]=i+1>>8&255,e[r]=i+1&255,r=r+4+i,e[r++]=0,r}const it=new DataView(new ArrayBuffer(8),0,8),ot=new Uint8Array(it.buffer,0,4),st=new Uint8Array(it.buffer,0,8);function ut(e,t,n,r){const i=!Object.is(n,-0)&&Number.isSafeInteger(n)&&n<=f&&n>=c?I:g;i===I?it.setInt32(0,n,!0):it.setFloat64(0,n,!0);const o=i===I?ot:st;return e[r++]=i,r+=K.encodeUTF8Into(e,t,r),e[r++]=0,e.set(o,r),r+o.byteLength}function at(e,t,n,r){return e[r++]=U,r+=K.encodeUTF8Into(e,t,r),e[r++]=0,it.setBigInt64(0,n,!0),e.set(st,r),r+st.byteLength}function ft(e,t,n,r){return e[r++]=x,r+=K.encodeUTF8Into(e,t,r),e[r++]=0,r}function ct(e,t,n,r){return e[r++]=S,r+=K.encodeUTF8Into(e,t,r),e[r++]=0,e[r++]=n?1:0,r}function lt(e,t,n,r){e[r++]=O,r+=K.encodeUTF8Into(e,t,r),e[r++]=0;const i=le.fromNumber(n.getTime()),o=i.getLowBits(),s=i.getHighBits();return e[r++]=255&o,e[r++]=o>>8&255,e[r++]=o>>16&255,e[r++]=o>>24&255,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,r}function ht(e,t,n,r){if(e[r++]=E,r+=K.encodeUTF8Into(e,t,r),e[r++]=0,n.source&&null!=n.source.match(tt))throw new D("value "+n.source+" must not contain null bytes");return r+=K.encodeUTF8Into(e,n.source,r),e[r++]=0,n.ignoreCase&&(e[r++]=105),n.global&&(e[r++]=115),n.multiline&&(e[r++]=109),e[r++]=0,r}function dt(e,t,n,r){if(e[r++]=E,r+=K.encodeUTF8Into(e,t,r),e[r++]=0,null!=n.pattern.match(tt))throw new D("pattern "+n.pattern+" must not contain null bytes");r+=K.encodeUTF8Into(e,n.pattern,r),e[r++]=0;const i=n.options.split("").sort().join("");return r+=K.encodeUTF8Into(e,i,r),e[r++]=0,r}function pt(e,t,n,r){return null===n?e[r++]=x:"MinKey"===n._bsontype?e[r++]=R:e[r++]=C,r+=K.encodeUTF8Into(e,t,r),e[r++]=0,r}function gt(e,t,n,r){if(e[r++]=w,r+=K.encodeUTF8Into(e,t,r),e[r++]=0,!i(n.id))throw new D("object ["+JSON.stringify(n)+"] is not a valid ObjectId");return e.set(n.id.subarray(0,12),r),r+12}function yt(e,t,n,r){e[r++]=v,r+=K.encodeUTF8Into(e,t,r),e[r++]=0;const i=n.length;return e[r++]=255&i,e[r++]=i>>8&255,e[r++]=i>>16&255,e[r++]=i>>24&255,e[r++]=L,e.set(n,r),r+i}function bt(e,t,n,r,i,o,s,u,a){if(a.has(n))throw new D("Cannot convert circular structure to BSON");a.add(n),e[r++]=Array.isArray(n)?m:b,r+=K.encodeUTF8Into(e,t,r),e[r++]=0;const f=Nt(e,n,i,r,o+1,s,u,a);return a.delete(n),f}function mt(e,t,n,r){return e[r++]=$,r+=K.encodeUTF8Into(e,t,r),e[r++]=0,e.set(n.bytes.subarray(0,16),r),r+16}function vt(e,t,n,r){e[r++]="Long"===n._bsontype?U:T,r+=K.encodeUTF8Into(e,t,r),e[r++]=0;const i=n.getLowBits(),o=n.getHighBits();return e[r++]=255&i,e[r++]=i>>8&255,e[r++]=i>>16&255,e[r++]=i>>24&255,e[r++]=255&o,e[r++]=o>>8&255,e[r++]=o>>16&255,e[r++]=o>>24&255,r}function _t(e,t,n,r){return n=n.valueOf(),e[r++]=I,r+=K.encodeUTF8Into(e,t,r),e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255,r}function wt(e,t,n,r){return e[r++]=g,r+=K.encodeUTF8Into(e,t,r),e[r++]=0,it.setFloat64(0,n.value,!0),e.set(st,r),r+8}function St(e,t,n,r){e[r++]=N,r+=K.encodeUTF8Into(e,t,r),e[r++]=0;const i=n.toString(),o=K.encodeUTF8Into(e,i,r+4)+1;return e[r]=255&o,e[r+1]=o>>8&255,e[r+2]=o>>16&255,e[r+3]=o>>24&255,r=r+4+o-1,e[r++]=0,r}function Ot(e,t,n,r,i=!1,o=0,s=!1,u=!0,a){if(n.scope&&"object"==typeof n.scope){e[r++]=A,r+=K.encodeUTF8Into(e,t,r),e[r++]=0;let f=r;const c=n.code;r+=4;const l=K.encodeUTF8Into(e,c,r+4)+1;e[r]=255&l,e[r+1]=l>>8&255,e[r+2]=l>>16&255,e[r+3]=l>>24&255,e[r+4+l-1]=0,r=r+l+4;const h=Nt(e,n.scope,i,r,o+1,s,u,a);r=h-1;const d=h-f;e[f++]=255&d,e[f++]=d>>8&255,e[f++]=d>>16&255,e[f++]=d>>24&255,e[r++]=0}else{e[r++]=N,r+=K.encodeUTF8Into(e,t,r),e[r++]=0;const i=n.code.toString(),o=K.encodeUTF8Into(e,i,r+4)+1;e[r]=255&o,e[r+1]=o>>8&255,e[r+2]=o>>16&255,e[r+3]=o>>24&255,r=r+4+o-1,e[r++]=0}return r}function xt(e,t,n,r){e[r++]=v,r+=K.encodeUTF8Into(e,t,r),e[r++]=0;const i=n.buffer;let o=n.position;return n.sub_type===G.SUBTYPE_BYTE_ARRAY&&(o+=4),e[r++]=255&o,e[r++]=o>>8&255,e[r++]=o>>16&255,e[r++]=o>>24&255,e[r++]=n.sub_type,n.sub_type===G.SUBTYPE_BYTE_ARRAY&&(o-=4,e[r++]=255&o,e[r++]=o>>8&255,e[r++]=o>>16&255,e[r++]=o>>24&255),e.set(i,r),r+n.position}function Et(e,t,n,r){e[r++]=j,r+=K.encodeUTF8Into(e,t,r),e[r++]=0;const i=K.encodeUTF8Into(e,n.value,r+4)+1;return e[r]=255&i,e[r+1]=i>>8&255,e[r+2]=i>>16&255,e[r+3]=i>>24&255,r=r+4+i-1,e[r++]=0,r}function Bt(e,t,n,r,i,o,s){e[r++]=b,r+=K.encodeUTF8Into(e,t,r),e[r++]=0;let u=r,a={$ref:n.collection||n.namespace,$id:n.oid};null!=n.db&&(a.$db=n.db),a=Object.assign(a,n.fields);const f=Nt(e,a,!1,r,i+1,o,!0,s),c=f-u;return e[u++]=255&c,e[u++]=c>>8&255,e[u++]=c>>16&255,e[u++]=c>>24&255,f}function Nt(e,t,n,f,c,l,h,d){if(null==d){if(null==t)return e[0]=5,e[1]=0,e[2]=0,e[3]=0,e[4]=0,5;if(Array.isArray(t))throw new D("serialize does not support an array as the root input");if("object"!=typeof t)throw new D("serialize does not support non-object as the root input");if("_bsontype"in t&&"string"==typeof t._bsontype)throw new D("BSON types cannot be serialized as a document");if(u(t)||o(t)||i(t)||r(t))throw new D("date, regexp, typedarray, and arraybuffer cannot be BSON documents");d=new Set}d.add(t);let p=f+4;if(Array.isArray(t))for(let r=0;r<t.length;r++){const s=`${r}`;let f=t[r];if("function"==typeof f?.toBSON&&(f=f.toBSON()),"string"==typeof f)p=rt(e,s,f,p);else if("number"==typeof f)p=ut(e,s,f,p);else if("bigint"==typeof f)p=at(e,s,f,p);else if("boolean"==typeof f)p=ct(e,s,f,p);else if(f instanceof Date||u(f))p=lt(e,s,f,p);else if(void 0===f)p=ft(e,s,0,p);else if(null===f)p=ft(e,s,0,p);else if(i(f))p=yt(e,s,f,p);else if(f instanceof RegExp||o(f))p=ht(e,s,f,p);else if("object"==typeof f&&null==f._bsontype)p=bt(e,s,f,p,n,c,l,h,d);else{if("object"==typeof f&&f[Symbol.for("@@mdb.bson.version")]!==a)throw new P;if("ObjectId"===f._bsontype)p=gt(e,s,f,p);else if("Decimal128"===f._bsontype)p=mt(e,s,f,p);else if("Long"===f._bsontype||"Timestamp"===f._bsontype)p=vt(e,s,f,p);else if("Double"===f._bsontype)p=wt(e,s,f,p);else if("function"==typeof f&&l)p=St(e,s,f,p);else if("Code"===f._bsontype)p=Ot(e,s,f,p,n,c,l,h,d);else if("Binary"===f._bsontype)p=xt(e,s,f,p);else if("BSONSymbol"===f._bsontype)p=Et(e,s,f,p);else if("DBRef"===f._bsontype)p=Bt(e,s,f,p,c,l,d);else if("BSONRegExp"===f._bsontype)p=dt(e,s,f,p);else if("Int32"===f._bsontype)p=_t(e,s,f,p);else if("MinKey"===f._bsontype||"MaxKey"===f._bsontype)p=pt(e,s,f,p);else if(void 0!==f._bsontype)throw new D(`Unrecognized or invalid _bsontype: ${String(f._bsontype)}`)}}else if(t instanceof Map||s(t)){const r=t.entries();let s=!1;for(;!s;){const t=r.next();if(s=!!t.done,s)continue;const f=t.value[0];let g=t.value[1];"function"==typeof g?.toBSON&&(g=g.toBSON());const y=typeof g;if("string"==typeof f&&!nt.has(f)){if(null!=f.match(tt))throw new D("key "+f+" must not contain null bytes");if(n){if("$"===f[0])throw new D("key "+f+" must not start with '$'");if(~f.indexOf("."))throw new D("key "+f+" must not contain '.'")}}if("string"===y)p=rt(e,f,g,p);else if("number"===y)p=ut(e,f,g,p);else if("bigint"===y)p=at(e,f,g,p);else if("boolean"===y)p=ct(e,f,g,p);else if(g instanceof Date||u(g))p=lt(e,f,g,p);else if(null===g||void 0===g&&!1===h)p=ft(e,f,0,p);else if(i(g))p=yt(e,f,g,p);else if(g instanceof RegExp||o(g))p=ht(e,f,g,p);else if("object"===y&&null==g._bsontype)p=bt(e,f,g,p,n,c,l,h,d);else{if("object"==typeof g&&g[Symbol.for("@@mdb.bson.version")]!==a)throw new P;if("ObjectId"===g._bsontype)p=gt(e,f,g,p);else if("object"===y&&"Decimal128"===g._bsontype)p=mt(e,f,g,p);else if("Long"===g._bsontype||"Timestamp"===g._bsontype)p=vt(e,f,g,p);else if("Double"===g._bsontype)p=wt(e,f,g,p);else if("Code"===g._bsontype)p=Ot(e,f,g,p,n,c,l,h,d);else if("function"==typeof g&&l)p=St(e,f,g,p);else if("Binary"===g._bsontype)p=xt(e,f,g,p);else if("BSONSymbol"===g._bsontype)p=Et(e,f,g,p);else if("DBRef"===g._bsontype)p=Bt(e,f,g,p,c,l,d);else if("BSONRegExp"===g._bsontype)p=dt(e,f,g,p);else if("Int32"===g._bsontype)p=_t(e,f,g,p);else if("MinKey"===g._bsontype||"MaxKey"===g._bsontype)p=pt(e,f,g,p);else if(void 0!==g._bsontype)throw new D(`Unrecognized or invalid _bsontype: ${String(g._bsontype)}`)}}}else{if("function"==typeof t?.toBSON&&null!=(t=t.toBSON())&&"object"!=typeof t)throw new D("toBSON function did not return an object");for(const r of Object.keys(t)){let s=t[r];"function"==typeof s?.toBSON&&(s=s.toBSON());const f=typeof s;if("string"==typeof r&&!nt.has(r)){if(null!=r.match(tt))throw new D("key "+r+" must not contain null bytes");if(n){if("$"===r[0])throw new D("key "+r+" must not start with '$'");if(~r.indexOf("."))throw new D("key "+r+" must not contain '.'")}}if("string"===f)p=rt(e,r,s,p);else if("number"===f)p=ut(e,r,s,p);else if("bigint"===f)p=at(e,r,s,p);else if("boolean"===f)p=ct(e,r,s,p);else if(s instanceof Date||u(s))p=lt(e,r,s,p);else if(void 0===s)!1===h&&(p=ft(e,r,0,p));else if(null===s)p=ft(e,r,0,p);else if(i(s))p=yt(e,r,s,p);else if(s instanceof RegExp||o(s))p=ht(e,r,s,p);else if("object"===f&&null==s._bsontype)p=bt(e,r,s,p,n,c,l,h,d);else{if("object"==typeof s&&s[Symbol.for("@@mdb.bson.version")]!==a)throw new P;if("ObjectId"===s._bsontype)p=gt(e,r,s,p);else if("object"===f&&"Decimal128"===s._bsontype)p=mt(e,r,s,p);else if("Long"===s._bsontype||"Timestamp"===s._bsontype)p=vt(e,r,s,p);else if("Double"===s._bsontype)p=wt(e,r,s,p);else if("Code"===s._bsontype)p=Ot(e,r,s,p,n,c,l,h,d);else if("function"==typeof s&&l)p=St(e,r,s,p);else if("Binary"===s._bsontype)p=xt(e,r,s,p);else if("BSONSymbol"===s._bsontype)p=Et(e,r,s,p);else if("DBRef"===s._bsontype)p=Bt(e,r,s,p,c,l,d);else if("BSONRegExp"===s._bsontype)p=dt(e,r,s,p);else if("Int32"===s._bsontype)p=_t(e,r,s,p);else if("MinKey"===s._bsontype||"MaxKey"===s._bsontype)p=pt(e,r,s,p);else if(void 0!==s._bsontype)throw new D(`Unrecognized or invalid _bsontype: ${String(s._bsontype)}`)}}}d.delete(t),e[p++]=0;const g=p-f;return e[f++]=255&g,e[f++]=g>>8&255,e[f++]=g>>16&255,e[f++]=g>>24&255,p}const jt={$oid:Ue,$binary:G,$uuid:G,$symbol:Le,$numberInt:Be,$numberDecimal:xe,$numberDouble:Ee,$numberLong:le,$minKey:je,$maxKey:Ne,$regex:Ce,$regularExpression:Ce,$timestamp:ke};function At(e,t={}){if("number"==typeof e){const n=e<=f&&e>=c,r=e<=l&&e>=h;if(t.relaxed||t.legacy)return e;if(Number.isInteger(e)&&!Object.is(e,-0)){if(n)return new Be(e);if(r)return t.useBigInt64?BigInt(e):le.fromNumber(e)}return new Ee(e)}if(null==e||"object"!=typeof e)return e;if(e.$undefined)return null;const n=Object.keys(e).filter((t=>t.startsWith("$")&&null!=e[t]));for(let r=0;r<n.length;r++){const i=jt[n[r]];if(i)return i.fromExtendedJSON(e,t)}if(null!=e.$date){const n=e.$date,r=new Date;if(t.legacy)if("number"==typeof n)r.setTime(n);else if("string"==typeof n)r.setTime(Date.parse(n));else{if("bigint"!=typeof n)throw new F("Unrecognized type for EJSON date: "+typeof n);r.setTime(Number(n))}else if("string"==typeof n)r.setTime(Date.parse(n));else if(le.isLong(n))r.setTime(n.toNumber());else if("number"==typeof n&&t.relaxed)r.setTime(n);else{if("bigint"!=typeof n)throw new F("Unrecognized type for EJSON date: "+typeof n);r.setTime(Number(n))}return r}if(null!=e.$code){const t=Object.assign({},e);return e.$scope&&(t.$scope=At(e.$scope)),te.fromExtendedJSON(e)}if(ne(e)||e.$dbPointer){const t=e.$ref?e:e.$dbPointer;if(t instanceof re)return t;const n=Object.keys(t).filter((e=>e.startsWith("$")));let r=!0;if(n.forEach((e=>{-1===["$ref","$id","$db"].indexOf(e)&&(r=!1)})),r)return re.fromExtendedJSON(t)}return e}function It(e){const t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function Tt(e,t){if(e instanceof Map||s(e)){const n=Object.create(null);for(const[t,r]of e){if("string"!=typeof t)throw new D("Can only serialize maps with string keys");n[t]=r}return Tt(n,t)}if(("object"==typeof e||"function"==typeof e)&&null!==e){const n=t.seenObjects.findIndex((t=>t.obj===e));if(-1!==n){const e=t.seenObjects.map((e=>e.propertyName)),r=e.slice(0,n).map((e=>`${e} -> `)).join(""),i=e[n],o=" -> "+e.slice(n+1,e.length-1).map((e=>`${e} -> `)).join(""),s=e[e.length-1],u=" ".repeat(r.length+i.length/2),a="-".repeat(o.length+(i.length+s.length)/2-1);throw new D(`Converting circular structure to EJSON:\n    ${r}${i}${o}${s}\n    ${u}\\${a}/`)}t.seenObjects[t.seenObjects.length-1].obj=e}if(Array.isArray(e))return function(e,t){return e.map(((e,n)=>{t.seenObjects.push({propertyName:`index ${n}`,obj:null});try{return Tt(e,t)}finally{t.seenObjects.pop()}}))}(e,t);if(void 0===e)return null;if(e instanceof Date||u(e)){const n=e.getTime(),r=n>-1&&n<2534023188e5;return t.legacy?t.relaxed&&r?{$date:e.getTime()}:{$date:It(e)}:t.relaxed&&r?{$date:It(e)}:{$date:{$numberLong:e.getTime().toString()}}}if(!("number"!=typeof e||t.relaxed&&isFinite(e))){if(Number.isInteger(e)&&!Object.is(e,-0)){if(e>=c&&e<=f)return{$numberInt:e.toString()};if(e>=h&&e<=l)return{$numberLong:e.toString()}}return{$numberDouble:Object.is(e,-0)?"-0.0":e.toString()}}if("bigint"==typeof e)return t.relaxed?Number(BigInt.asIntN(64,e)):{$numberLong:BigInt.asIntN(64,e).toString()};if(e instanceof RegExp||o(e)){let n=e.flags;if(void 0===n){const t=e.toString().match(/[gimuy]*$/);t&&(n=t[0])}return new Ce(e.source,n).toExtendedJSON(t)}return null!=e&&"object"==typeof e?function(e,t){if(null==e||"object"!=typeof e)throw new D("not an object instance");const n=e._bsontype;if(void 0===n){const n={};for(const r of Object.keys(e)){t.seenObjects.push({propertyName:r,obj:null});try{const i=Tt(e[r],t);"__proto__"===r?Object.defineProperty(n,r,{value:i,writable:!0,enumerable:!0,configurable:!0}):n[r]=i}finally{t.seenObjects.pop()}}return n}if(null!=e&&"object"==typeof e&&"string"==typeof e._bsontype&&e[Symbol.for("@@mdb.bson.version")]!==a)throw new P;if(function(e){return null!=e&&"object"==typeof e&&"_bsontype"in e&&"string"==typeof e._bsontype}(e)){let r=e;if("function"!=typeof r.toExtendedJSON){const t=Ut[e._bsontype];if(!t)throw new D("Unrecognized or invalid _bsontype: "+e._bsontype);r=t(r)}return"Code"===n&&r.scope?r=new te(r.code,Tt(r.scope,t)):"DBRef"===n&&r.oid&&(r=new re(Tt(r.collection,t),Tt(r.oid,t),Tt(r.db,t),Tt(r.fields,t))),r.toExtendedJSON(t)}throw new D("_bsontype must be a string, but was: "+typeof n)}(e,t):e}const Ut={Binary:e=>new G(e.value(),e.sub_type),Code:e=>new te(e.code,e.scope),DBRef:e=>new re(e.collection||e.namespace,e.oid,e.db,e.fields),Decimal128:e=>new xe(e.bytes),Double:e=>new Ee(e.value),Int32:e=>new Be(e.value),Long:e=>le.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_),MaxKey:()=>new Ne,MinKey:()=>new je,ObjectId:e=>new Ue(e),BSONRegExp:e=>new Ce(e.pattern,e.options),BSONSymbol:e=>new Le(e.value),Timestamp:e=>ke.fromBits(e.low,e.high)};function $t(e,t){const n={useBigInt64:t?.useBigInt64??!1,relaxed:t?.relaxed??!0,legacy:t?.legacy??!1};return JSON.parse(e,((e,t)=>{if(-1!==e.indexOf("\0"))throw new D(`BSON Document field names cannot contain null bytes, found: ${JSON.stringify(e)}`);return At(t,n)}))}function Rt(e,t,n,r){null!=n&&"object"==typeof n&&(r=n,n=0),null==t||"object"!=typeof t||Array.isArray(t)||(r=t,t=void 0,n=0);const i=Tt(e,Object.assign({relaxed:!0,legacy:!1},r,{seenObjects:[{propertyName:"(root)",obj:null}]}));return JSON.stringify(i,t,n)}const Ct=Object.create(null);Ct.parse=$t,Ct.stringify=Rt,Ct.serialize=function(e,t){return t=t||{},JSON.parse(Rt(e,t))},Ct.deserialize=function(e,t){return t=t||{},$t(JSON.stringify(e),t)},Object.freeze(Ct);const Lt=17825792;let Mt=K.allocate(Lt);function kt(e){Mt.length<e&&(Mt=K.allocate(e))}function Dt(e,t={}){const n="boolean"==typeof t.checkKeys&&t.checkKeys,r="boolean"==typeof t.serializeFunctions&&t.serializeFunctions,i="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined,o="number"==typeof t.minInternalBufferSize?t.minInternalBufferSize:Lt;Mt.length<o&&(Mt=K.allocate(o));const s=Nt(Mt,e,n,0,0,r,i,null),u=K.allocate(s);return u.set(Mt.subarray(0,s),0),u}function Pt(e,t,n={}){const r="boolean"==typeof n.checkKeys&&n.checkKeys,i="boolean"==typeof n.serializeFunctions&&n.serializeFunctions,o="boolean"!=typeof n.ignoreUndefined||n.ignoreUndefined,s="number"==typeof n.index?n.index:0,u=Nt(Mt,e,r,0,0,i,o,null);return t.set(Mt.subarray(0,u),s),s+u-1}function Ft(e,t={}){return Ge(K.toLocalBufferType(e),t)}function Ht(e,t={}){return $e(e,"boolean"==typeof(t=t||{}).serializeFunctions&&t.serializeFunctions,"boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined)}function zt(e,t,n,r,i,o){const s=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},o),u=K.toLocalBufferType(e);let a=t;for(let e=0;e<n;e++){const t=u[a]|u[a+1]<<8|u[a+2]<<16|u[a+3]<<24;s.index=a,r[i+e]=Ge(u,s),a+=t}return a}var qt=Object.freeze({__proto__:null,BSONError:D,BSONRegExp:Ce,BSONRuntimeError:F,BSONSymbol:Le,BSONType:k,BSONValue:Y,BSONVersionError:P,Binary:G,Code:te,DBRef:re,Decimal128:xe,Double:Ee,EJSON:Ct,Int32:Be,Long:le,MaxKey:Ne,MinKey:je,ObjectId:Ue,Timestamp:ke,UUID:ee,calculateObjectSize:Ht,deserialize:Ft,deserializeStream:zt,serialize:Dt,serializeWithBufferAndIndex:Pt,setInternalBufferSize:kt});t.BSON=qt,t.BSONError=D,t.BSONRegExp=Ce,t.BSONRuntimeError=F,t.BSONSymbol=Le,t.BSONType=k,t.BSONValue=Y,t.BSONVersionError=P,t.Binary=G,t.Code=te,t.DBRef=re,t.Decimal128=xe,t.Double=Ee,t.EJSON=Ct,t.Int32=Be,t.Long=le,t.MaxKey=Ne,t.MinKey=je,t.ObjectId=Ue,t.Timestamp=ke,t.UUID=ee,t.calculateObjectSize=Ht,t.deserialize=Ft,t.deserializeStream=zt,t.serialize=Dt,t.serializeWithBufferAndIndex=Pt,t.setInternalBufferSize=kt}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r=n(939);return r.default})()));